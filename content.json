{"posts":[{"title":"Hadoop æ–‡ä»¶ç³»ç»Ÿ","text":"Hadoop æœ‰ä¸€ä¸ªæŠ½è±¡çš„æ–‡ä»¶ç³»ç»Ÿæ¦‚å¿µã€‚Java æŠ½è±¡ç±» org.apache.hadoop.fs.FileSystem å®šä¹‰äº† Hadoop ä¸­ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„å®¢æˆ·ç«¯æ¥å£ï¼Œå¹¶ä¸”è¯¥æŠ½è±¡ç±»æœ‰å‡ ä¸ªå…·ä½“å®ç°ï¼Œå…¶ä¸­å¸¸ç”¨çš„å¦‚ä¸‹è¡¨ï¼š æ–‡ä»¶ç³»ç»Ÿ URI æ–¹æ¡ˆ Java å®ç° æè¿° Local file:///path fs.LocalFileSystem ä½¿ç”¨å®¢æˆ·ç«¯æ£€éªŒå’Œçš„æœ¬åœ°ç£ç›˜æ–‡ä»¶ç³»ç»Ÿã€‚ä½¿ç”¨ RawLocalFileSystem è¡¨ç¤ºæ— æ ¡éªŒå’Œçš„æœ¬åœ°ç£ç›˜æ–‡ä»¶ç³»ç»Ÿã€‚ HDFS hdfs://host/path hdfs.DistributedFileSystem Hadoop çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FTP ftp://host/path fs.ftp.FTPFileSystem ç”± FTP æœåŠ¡å™¨æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿ SFTP sftp://host/path fs.sftp.SFTPFileSystem ç”± SFTP æœåŠ¡å™¨æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿ å…¶ä¸­ Local æ–‡ä»¶ç³»ç»Ÿçš„ URI æ–¹æ¡ˆæ¯”è¾ƒç‰¹æ®Šï¼Œå†’å·åæœ‰ä¸‰ä¸ªæ–œæ  (///)ã€‚è¿™æ˜¯å› ä¸º URL æ ‡å‡†è§„å®š file URL é‡‡ç”¨ file://&lt;host&gt;/&lt;path&gt; å½¢å¼ã€‚ä½œä¸ºä¸€ä¸ªç‰¹ä¾‹ï¼Œå½“ä¸»æœºæ˜¯æœ¬æœºæ—¶ï¼Œ æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚å› æ­¤ï¼Œæœ¬åœ° file URL é€šå¸¸å…·æœ‰ä¸‰ä¸ªæ–œæ ã€‚ ä» Hadoop URL è¯»å–æ•°æ®","link":"/blog/2022/09/08/Hadoop%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/"},{"title":"Git å­¦ä¹ è®°å½•","text":"Git æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€å…ˆè¿›ã€æœ€æµè¡Œçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚Git é‡‡ç”¨ C è¯­è¨€å¼€å‘ï¼Œå¹¶å®Œå…¨å…è´¹å¼€æºï¼Œç”± Linus Torvalds å‘èµ·ï¼Œå¹¶ä½œä¸ºä¸»è¦å¼€å‘è€…ã€‚ä»–åŒæ—¶è¿˜æ˜¯ Linux å†…æ ¸çš„æœ€æ—©ä½œè€…ï¼Œæ‹…ä»» Linux å†…æ ¸çš„é¦–è¦æ¶æ„å¸ˆä¸é¡¹ç›®åè°ƒè€…ã€‚ é…ç½®ç”¨æˆ·å®‰è£…å®Œ Git åä¸€èˆ¬è¦é…ç½®ç”¨æˆ·åå’Œé‚®ç®±ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡æäº¤ä¸­è®°å½•ä¸‹æ¥ï¼Œæ–¹ä¾¿æŸ¥æ‰¾æ¯æ¬¡æäº¤çš„ç”¨æˆ·ã€‚Git çš„é…ç½®ä¸€å…±æœ‰ä¸‰ä¸ªçº§åˆ«ï¼šsystemï¼ˆç³»ç»Ÿçº§ï¼‰ã€globalï¼ˆç”¨æˆ·çº§ï¼‰ã€localï¼ˆç‰ˆæœ¬åº“ï¼‰ã€‚system çš„é…ç½®æ•´ä¸ªç³»ç»Ÿåªæœ‰ä¸€ä¸ªï¼Œglobal çš„é…ç½®æ¯ä¸ªè´¦å·åªæœ‰ä¸€ä¸ªï¼Œlocal çš„é…ç½®å­˜åœ¨äº Git ç‰ˆæœ¬åº“ä¸­ï¼Œå¯ä»¥å¯¹ä¸åŒçš„ç‰ˆæœ¬åº“é…ç½®ä¸åŒçš„ local ä¿¡æ¯ã€‚è¿™ä¸‰ä¸ªçº§åˆ«çš„é…ç½®æ˜¯é€å±‚è¦†ç›–çš„å…³ç³»ï¼Œå½“ç”¨æˆ·æäº¤ä¿®æ”¹æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾ system é…ç½®ï¼Œå…¶æ¬¡æŸ¥æ‰¾ global é…ç½®ï¼Œæœ€åæŸ¥æ‰¾ local é…ç½®ï¼Œé€å±‚æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­ï¼Œè‹¥æŸ¥è¯¢åˆ°é…ç½®ä¿¡æ¯ï¼Œåˆ™ä¼šè¦†ç›–ä¸Šä¸€å±‚é…ç½®ï¼Œè®°å½•åœ¨æäº¤è®°å½•ä¸­ã€‚å½“æœ‰å¤šä¸ªè´¦å·ä¿¡æ¯æ—¶ï¼Œä¸ºäº†åŒºåˆ†ä¸åŒè´¦æˆ·æäº¤çš„è®°å½•ã€‚å¯ä»¥é…ç½® global ä¸ºå¸¸ç”¨çš„ç”¨æˆ·å’Œé‚®ç®±ä¿¡æ¯ã€‚å¯¹äºä¸å¸¸ç”¨çš„ï¼Œå¯ä»¥åœ¨å¯¹åº”çš„ç‰ˆæœ¬åº“é‡Œé…ç½®å•ç‹¬çš„ç”¨æˆ·å’Œé‚®ç®±ä¿¡æ¯ã€‚ 12git config --global user.name &quot;username&quot;git config --global user.email &quot;email address&quot; åˆ›å»ºç‰ˆæœ¬åº“ æ–°å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ï¼Œå¹¶åˆ‡æ¢è‡³ç›®å½•ä¸‹12mkdir test_gitcd test_git åˆå§‹åŒ–ç‰ˆæœ¬åº“ï¼Œæ­¤åè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å°†è¢« Git ç®¡ç†1git init æ·»åŠ å¹¶æäº¤æ–‡ä»¶åˆ°ç‰ˆæœ¬åº“æ–°å»º/ä¿®æ”¹/åˆ é™¤æ–‡ä»¶çš„è¡Œä¸ºéƒ½å¯ä»¥è¢« Git ç®¡ç†ã€‚ å¯¹æ–‡ä»¶è¿›è¡Œäº†ä»¥ä¸Šæ“ä½œåï¼Œå°†æ‰€æœ‰çš„æ–‡ä»¶å˜åŠ¨æ·»åŠ è‡³ Git æš‚å­˜åŒºï¼Œç”¨äºåç»­æäº¤åˆ°ç‰ˆæœ¬åº“1git add . æäº¤åˆ°ç‰ˆæœ¬åº“1git commit -m 'æäº¤ä¿¡æ¯' ç‰ˆæœ¬ç®¡ç†æ¦‚å¿µè§£é‡Šå·¥ä½œåŒºå·¥ä½œåŒºæ˜¯æŒ‡ç”¨æˆ·æ–°å»ºçš„å¯è§ç›®å½•ï¼Œå…¶ä¸‹å­˜æ”¾ç€ç”¨æˆ·è‡ªå·±åˆ›å»ºå’Œä¿®æ”¹çš„å·¥ä½œæ–‡ä»¶ã€‚ ç‰ˆæœ¬åº“ç‰ˆæœ¬åº“å°±æ˜¯ä½¿ç”¨ git init åˆ›å»ºå‡º .git éšè—ç›®å½•ï¼Œç§°ä¸º Git ç‰ˆæœ¬åº“ã€‚Git çš„ç‰ˆæœ¬åº“é‡Œå­˜äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯ç§°ä¸º stageï¼ˆæˆ–è€…å« indexï¼‰çš„æš‚å­˜åŒºï¼Œè¿˜æœ‰ Git ä¸ºæˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ masterï¼Œä»¥åŠæŒ‡å‘ master çš„ä¸€ä¸ªæŒ‡é’ˆå« HEADã€‚å½“ç”¨æˆ·å®Œæˆæ–‡ä»¶ä¿®æ”¹åï¼Œä½¿ç”¨ git add å‘½ä»¤å°±å¯ä»¥å°†æ–‡ä»¶å˜åŠ¨æ·»åŠ è‡³ Git æš‚å­˜åŒºï¼Œå¦‚æœç”¨æˆ·å‘ç°ä¸æƒ³æ·»åŠ æœ¬æ¬¡ä¿®æ”¹ï¼Œå¯ä»¥ä½¿ç”¨ git checkout --&lt;file&gt; æ’¤é”€æŒ‡å®šæ–‡ä»¶çš„æ·»åŠ ã€‚æ­¤æ—¶è¿˜æ²¡æœ‰ç”Ÿæˆæ–°çš„ç‰ˆæœ¬åº“ï¼Œå¦‚æœç¡®è®¤æ·»åŠ æ— è¯¯ï¼Œä½¿ç”¨ git commit æäº¤æœ¬æ¬¡æ‰€æœ‰ä¿®æ”¹ï¼Œç”Ÿæˆæ–°çš„ç‰ˆæœ¬åº“ï¼Œå¹¶ä¸”æ¸…ç©ºæ‰€æœ‰æš‚å­˜åŒºçš„æ–‡ä»¶å˜åŠ¨ã€‚git status å¯ä»¥æ—¶åˆ»è§‚å¯Ÿå½“å‰ä»“åº“çš„çŠ¶æ€ï¼Œgit log å¯ä»¥æŸ¥çœ‹æ¯æ¬¡ commit çš„ç›¸å…³ä¿¡æ¯ã€‚æäº¤åï¼Œç”¨ git diff HEAD -- &lt;file&gt; å‘½ä»¤å¯ä»¥æŸ¥çœ‹å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“é‡Œé¢æœ€æ–°ç‰ˆæœ¬çš„åŒºåˆ«ã€‚ æ’¤é”€ä¿®æ”¹æŠŠæ–‡ä»¶åœ¨å·¥ä½œåŒºçš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼Œè®©è¿™ä¸ªæ–‡ä»¶å›åˆ°æœ€è¿‘ä¸€æ¬¡ git commit æˆ– git add æ—¶çš„çŠ¶æ€ 1git checkout -- &lt;file&gt; åœ¨ git addåï¼ŒæŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒº 1git reset HEAD &lt;file&gt; æ€»ç»“ï¼š åœºæ™¯ 1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤ git checkout -- &lt;file&gt;ã€‚ åœºæ™¯ 2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒºæ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥ç”¨å‘½ä»¤ git reset HEAD &lt;file&gt;ï¼Œå°±å›åˆ°äº†åœºæ™¯ 1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯ 1 æ“ä½œã€‚ åˆ é™¤æ–‡ä»¶å½“åˆ é™¤å·¥ä½œåŒºçš„æ–‡ä»¶æ—¶ï¼Œå·¥ä½œåŒºå’Œç‰ˆæœ¬åº“çš„æ–‡ä»¶å°±ä¸ä¸€è‡´äº†ï¼Œgit status å‘½ä»¤ä¼šç«‹åˆ»å‘Šè¯‰ä½ å“ªäº›æ–‡ä»¶è¢«åˆ é™¤äº†ã€‚ç°åœ¨ä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œä¸€æ˜¯ç¡®å®è¦ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤è¯¥æ–‡ä»¶ï¼Œé‚£å°±ç”¨å‘½ä»¤ git rm åˆ æ‰ï¼Œå¹¶ä¸” git commitï¼š 12git rm &lt;file&gt;git commit -m &quot;remove file&quot; å¦ä¸€ç§æƒ…å†µæ˜¯åˆ é”™äº†ï¼Œå› ä¸ºç‰ˆæœ¬åº“é‡Œè¿˜æœ‰å‘¢ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆè½»æ¾åœ°æŠŠè¯¯åˆ çš„æ–‡ä»¶æ¢å¤åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š 1git checkout -- &lt;file&gt; git checkout å…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚ ç‰ˆæœ¬é€€å›é€€å›åˆ°ä¸Šä¸ªç‰ˆæœ¬ 1git reset --hard HEAD^ é€€å›åˆ°æŒ‡å®šç‰ˆæœ¬ 1234# æŸ¥çœ‹ç‰ˆæœ¬å·git log# é€€å›åˆ°æŒ‡å®šç‰ˆæœ¬git reset --hard &lt;commit id&gt; å½“æ‰¾ä¸åˆ°ç›®æ ‡ commit id æ—¶ï¼ŒGit æä¾›äº†ä¸€ä¸ªå‘½ä»¤ git reflog ç”¨æ¥è®°å½•ä½ çš„æ¯ä¸€æ¬¡å‘½ä»¤ï¼š 1git reflog æ€»ç»“ï¼š HEAD æŒ‡å‘çš„ç‰ˆæœ¬å°±æ˜¯å½“å‰ç‰ˆæœ¬ï¼Œå› æ­¤ï¼ŒGit å…è®¸æˆ‘ä»¬åœ¨ç‰ˆæœ¬çš„å†å²ä¹‹é—´ç©¿æ¢­ï¼Œä½¿ç”¨å‘½ä»¤ git reset --hard &lt;commit id&gt;ã€‚ ç©¿æ¢­å‰ï¼Œç”¨ git log å¯ä»¥æŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬ã€‚ è¦é‡è¿”æœªæ¥ï¼Œç”¨ git reflog æŸ¥çœ‹å‘½ä»¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬ã€‚ è¿œç¨‹ä»“åº“æ·»åŠ è¿œç¨‹åº“ä»¥ GitHub ä¸ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„ GitHub ä»“åº“ï¼Œç„¶åå°†æ­¤ä»“åº“æ·»åŠ è‡³æœ¬åœ°è¿œç¨‹åº“ï¼š 1git remote add origin git@github.com:imaginefish/blog.git è¿™é‡Œè¿œç¨‹åº“çš„åå­—å°±æ˜¯ originï¼Œè¿™æ˜¯ Git é»˜è®¤çš„å«æ³•ï¼Œä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„ã€‚ æ¨é€æœ¬åœ°åº“åˆ°è¿œç¨‹åº“1git push -u origin main ä»¥ä¸Šå‘½ä»¤ä¼šæŠŠæœ¬åœ°çš„ main åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹åº“ã€‚ ç”±äºè¿œç¨‹åº“æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¨é€ mian åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº†-u å‚æ•°ï¼ŒGit ä¸ä½†ä¼šæŠŠæœ¬åœ°çš„ main åˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„ mian åˆ†æ”¯ï¼Œè¿˜ä¼šæŠŠæœ¬åœ°çš„ main åˆ†æ”¯å’Œè¿œç¨‹çš„ main åˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ï¼Œä¹‹åæ¨é€å°±å¯ä»¥çœç•¥ -u å‚æ•°ã€‚ æŸ¥çœ‹è¿œç¨‹åº“1git remote -v åˆ é™¤è¿œç¨‹åº“1git remote rm origin clone è¿œç¨‹åº“Git æ”¯æŒ ssh å’Œ https ç­‰åè®®ï¼Œssh åè®®é€Ÿåº¦å¿«ï¼Œhttps é€Ÿåº¦æ…¢ï¼Œå¹¶ä¸”æ¯æ¬¡æ¨é€éƒ½å¿…é¡»è¾“å…¥å£ä»¤ï¼Œä½†æ˜¯å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæœ‰äº›ç½‘ç»œç¯å¢ƒä¸‹æ²¡æœ‰å¼€æ”¾ ssh 22 ç«¯å£ï¼Œåˆ™åªèƒ½ä½¿ç”¨ https åè®®ã€‚ 1git clone git@github.com:imaginefish/blog.git åˆ†æ”¯ç®¡ç†åˆ›å»ºä¸åˆå¹¶åˆ†æ”¯åˆ›å»ºåˆ†æ”¯ï¼š 1git branch main åˆ‡æ¢åˆ†æ”¯ï¼š 123git checkout main# æ–°ç‰ˆå‘½ä»¤git switch main åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ï¼ˆæ›¿ä»£ä»¥ä¸Šä¸¤æ¡å‘½ä»¤ï¼‰ï¼š 123git checkout -b main# æ–°ç‰ˆå‘½ä»¤git switch -c main æŸ¥çœ‹å½“å‰åˆ†æ”¯ï¼š 1git branch åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼š 1git merge &lt;name&gt; åˆ é™¤åˆ†æ”¯ï¼š 1git branch -d main åˆ†æ”¯å†²çª å½“è¢«åˆå¹¶åˆ†æ”¯çš„ä¿®æ”¹å†…å®¹ä¸å½“å‰åˆ†æ”¯ä¸ä¸€è‡´æ—¶ï¼Œåˆå¹¶åˆ†æ”¯ä¼šå‡ºç°åˆ†æ”¯å†²çªã€‚ å½“ Git æ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆã€‚ è§£å†³å†²çªå°±æ˜¯æŠŠ Git åˆå¹¶å¤±è´¥çš„æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘ä¸ºæˆ‘ä»¬å¸Œæœ›çš„å†…å®¹ï¼Œå†æäº¤ã€‚ ç”¨ git log --graph å‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ†æ”¯åˆå¹¶å›¾ã€‚ Rebase git rebase æ“ä½œå¯ä»¥æŠŠæœ¬åœ°æœª push çš„åˆ†å‰æäº¤å†å²æ•´ç†æˆç›´çº¿ã€‚ git rebase çš„ç›®çš„æ˜¯ä½¿å¾—æˆ‘ä»¬åœ¨æŸ¥çœ‹å†å²æäº¤çš„å˜åŒ–æ—¶æ›´å®¹æ˜“ï¼Œå› ä¸ºåˆ†å‰çš„æäº¤éœ€è¦ä¸‰æ–¹å¯¹æ¯”ã€‚ ä½¿ç”¨ GitHub åœ¨ GitHub ä¸Šï¼Œå¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„å…¬å¼€å’Œç§æœ‰ä»“åº“ å¯ä»¥ä»»æ„ Fork å¼€æºä»“åº“ è‡ªå·±æ‹¥æœ‰ Fork åçš„ä»“åº“çš„è¯»å†™æƒé™ å¯ä»¥æ¨é€ pull request ç»™å®˜æ–¹ä»“åº“æ¥è´¡çŒ®ä»£ç  å°†æœ¬æœºç”Ÿæˆçš„å…¬é’¥å†…å®¹æ·»åŠ è‡³ä¸ªäººçš„ GitHub è´¦æˆ· SSH Keys ä¸­ï¼Œä¾¿èƒ½å®ç°æœ¬åœ°è®¿é—®ä¸ªäººçš„ GitHub ä»“åº“ï¼Œå¹¶ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•è¿æ¥æ˜¯å¦æˆåŠŸï¼š 1ssh -T git@github.com æ­å»º Git æœåŠ¡å™¨ä¸€èˆ¬åœ¨å…¬å¸å†…éƒ¨ï¼Œè¿˜ä¼šæ­å»º Git æœåŠ¡å™¨ï¼Œæ‰˜ç®¡å…¬å¸è‡ªå·±çš„ä»£ç ï¼Œæå‡è®¿é—®é€Ÿåº¦å’Œå®‰å…¨æ€§ï¼Œé˜²æ­¢ä»£ç æ³„éœ²ã€‚ å®‰è£… git1sudo apt-get install git åˆ›å»º git ç”¨æˆ·ï¼Œç”¨äºè¿è¡Œ git æœåŠ¡1sudo adduser git åˆ›å»º ssh è¯ä¹¦ç™»å½•åˆ›å»º SSH Keyï¼š1ssh-keygen -t rsa -C &quot;youremail@example.com&quot; ä¹‹åå¯ä»¥åœ¨ç”¨æˆ·ä¸»ç›®å½•é‡Œæ‰¾åˆ° .ssh ç›®å½•ï¼Œé‡Œé¢æœ‰ id_rsa å’Œ id_rsa.pub ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸¤ä¸ªå°±æ˜¯ SSH Key çš„ç§˜é’¥å¯¹ï¼Œid_rsa æ˜¯ç§é’¥ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œid_rsa.pub æ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰ä»»ä½•äººã€‚æ”¶é›†æ‰€æœ‰éœ€è¦ç™»å½•çš„ç”¨æˆ·çš„å…¬é’¥ï¼ŒæŠŠæ‰€æœ‰å…¬é’¥å¯¼å…¥åˆ° /home/git/.ssh/authorized_keys æ–‡ä»¶é‡Œï¼Œä¸€è¡Œä¸€ä¸ªã€‚ åˆå§‹åŒ– Git ä»“åº“1git init --bare test.git Git å°±ä¼šåˆ›å»ºä¸€ä¸ªè£¸ä»“åº“ï¼Œè£¸ä»“åº“æ²¡æœ‰å·¥ä½œåŒºï¼Œå› ä¸ºæœåŠ¡å™¨ä¸Šçš„ Git ä»“åº“çº¯ç²¹æ˜¯ä¸ºäº†å…±äº«ï¼Œæ‰€ä»¥ä¸è®©ç”¨æˆ·ç›´æ¥ç™»å½•åˆ°æœåŠ¡å™¨ä¸Šå»æ”¹å·¥ä½œåŒºï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¸Šçš„ Git ä»“åº“é€šå¸¸éƒ½ä»¥ .git ç»“å°¾ã€‚ç„¶åï¼ŒæŠŠ owner æ”¹ä¸º gitï¼š1sudo chown -R git:git test.git ç¦ç”¨ bash ç™»å½•å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç¬¬äºŒæ­¥åˆ›å»ºçš„ git ç”¨æˆ·ä¸å…è®¸ç™»å½• bashï¼Œè¿™å¯ä»¥é€šè¿‡ç¼–è¾‘ /etc/passwd æ–‡ä»¶å®Œæˆã€‚æ‰¾åˆ°ç±»ä¼¼ä¸‹é¢çš„ä¸€è¡Œï¼š1git:x:1001:1001:,,,:/home/git:/bin/bash æ”¹ä¸ºï¼š1git:x:1001:1001:,,,:/home/git:/usr/bin/git-bash è¿™æ ·ï¼Œgit ç”¨æˆ·å¯ä»¥æ­£å¸¸é€šè¿‡ ssh ä½¿ç”¨ gitï¼Œä½†æ— æ³•ç™»å½• bashï¼Œå› ä¸ºæˆ‘ä»¬ä¸º git ç”¨æˆ·æŒ‡å®šçš„ git-bash æ¯æ¬¡ä¸€ç™»å½•å°±è‡ªåŠ¨é€€å‡ºã€‚ å…‹éš†è¿œç¨‹ä»“åº“1git clone git@server:/xxx/test.git","link":"/blog/2022/09/06/Git%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"},{"title":"Maven å­¦ä¹ è®°å½•","text":"Maven ä»‹ç»ä¾èµ–ç®¡ç†æ„å»ºæµç¨‹ä½¿ç”¨æ’ä»¶æ¨¡å—ç®¡ç†ä½¿ç”¨ mvnwå‘å¸ƒ Artifact","link":"/blog/2022/09/21/Maven%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/"},{"title":"PTV Visum ç®€ä»‹","text":"PTV Visum æ˜¯ä¸–ç•Œé¢†å…ˆçš„äº¤é€šè§„åˆ’è½¯ä»¶ï¼Œæ›´åŠ å…·ä½“ä¸€ç‚¹ï¼Œæ˜¯é¢†å…ˆçš„å¤šæ¨¡å¼å‡ºè¡Œè§„åˆ’å’Œå®è§‚äº¤é€šæ¨¡æ‹Ÿè½¯ä»¶,ä¸“ä¸ºäº¤é€šè§„åˆ’äººå‘˜è®¾è®¡ï¼Œä»¥å¢å¼ºåŸå¸‚èƒ½åŠ›ï¼š è¿›è¡Œæµé‡åˆ†æï¼Œé¢„æµ‹å’ŒåŸºäº GIS çš„æ•°æ®ç®¡ç† æ¨¡æ‹Ÿæ‰€æœ‰é“è·¯ä½¿ç”¨è€…ä»¥åŠä¸åŒäº¤é€šæ–¹å¼ä¹‹é—´çš„äº’åŠ¨ è§„åˆ’å…¬å…±äº¤é€šæœåŠ¡ åˆ¶å®šå…ˆè¿›å¹¶é¢å‘æœªæ¥çš„äº¤é€šç­–ç•¥å’Œè§£å†³æ–¹æ¡ˆ PTV Visum å¿…é¡»æä¾›ä»€ä¹ˆï¼Ÿ äº¤é€šæ•°æ®ä½œä¸ºäº¤é€šè§„åˆ’å¸ˆï¼Œæ‚¨å°†æ‰€æœ‰äº¤é€šä¿¡æ¯éƒ½åŒ…å«åœ¨ä¸€ä¸ªè½¯ä»¶ä¸­ï¼Œè¯¥è½¯ä»¶å¯ä»¥å…¨é¢æ¦‚è¿°äº¤é€šçŠ¶å†µã€‚PTV Visum è¿˜å¯ä»¥ç”¨äºé¢„æµ‹å’Œè¯„åˆ¤å¼€å‘è§„åˆ’çš„æ•ˆæœã€‚ ä¸‹ä¸€æ­¥äº¤é€šè§„åˆ’å¯¹äº PTV Visumï¼Œé¡¹ç›®ä»»åŠ¡ä¸åˆ†å¤§å°ã€‚å®ƒå³å¯ä»¥è®¡åˆ’é«˜é€Ÿå…¬è·¯è¿è¥ï¼Œåˆå¯ä»¥è§„åˆ’å„é˜¶æ®µçš„å…¬å…±äº¤é€šï¼Œæ¶‰åŠå¤šä¸ªé˜¶æ®µï¼Œå¹¶åœ¨ä¸€ä¸ªäº¤é€šè§„åˆ’è½¯ä»¶ä¸­æä¾›æ‚¨æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚ é…æœ‰ä¼ ç»Ÿå’Œé«˜çº§éœ€æ±‚æ¨¡å‹PTV Visum æä¾›äº†äº¤é€šè§„åˆ’è½¯ä»¶çš„æ‰€æœ‰åŠŸèƒ½ï¼Œä¾‹å¦‚ä¼ ç»Ÿçš„å››é˜¶æ®µéœ€æ±‚æ¨¡å‹ã€‚é™¤äº†æ ‡å‡†æ–¹æ³•å¤–ï¼Œè¯¥è½¯ä»¶è¿˜æä¾›äº†ç‹¬ä¸€æ— äºŒçš„é«˜çº§æ–¹æ³•ï¼Œä¾‹å¦‚åŸºäºå‡ºè¡Œé“¾çš„éœ€æ±‚æ¨¡å‹ï¼Œè€Œæ— éœ€ä½¿ç”¨å•ç‹¬çš„äº¤é€šè§„åˆ’è½¯ä»¶ã€‚ åˆ¶å®šåˆ‡å®å¯è¡Œçš„è®¡åˆ’å€ŸåŠ© PTV Visumï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒçš„äº¤é€šå‡ºè¡Œæ–¹å¼ï¼ˆä¾‹å¦‚ç§äººäº¤é€šã€å…¬å…±äº¤é€šã€å…±äº«äº¤é€šå’Œæ— äººé©¾é©¶ï¼‰è¯„ä¼°ä¸åŒçš„ç­–ç•¥å’Œå¤šç§â€œå‡è®¾â€æ–¹æ¡ˆã€‚äº¤é€šè§„åˆ’è½¯ä»¶å¯æ ¹æ®ç›®æ ‡æ”¯æŒå†³ç­–å’Œè®¡åˆ’ï¼Œæä¾›å¯é çš„ç»“æœï¼ŒåŒæ—¶æœ€å¤§ç¨‹åº¦åœ°é™ä½åˆ©ç›Šç›¸å…³è€…çš„æŠ•èµ„é£é™©ã€‚ çµæ´»æ€§ä¸å¯æ‰©å±•æˆ‘ä»¬çŸ¥é“æ¨¡å‹å’Œè½¯ä»¶éœ€è¦æœ€ç»ˆå…±äº«ç»™è§„åˆ’å¸ˆå’Œå…¶ä»–å‚ä¸æ–¹ï¼Œå› æ­¤è¿™å¯¹æˆ‘ä»¬åˆ¶å®šæ ‡å‡†å¾ˆé‡è¦ã€‚PTV Visum é€šè¿‡åŸºäº GIS å‡ ä½•å†…ç½®æ•°æ®æ¨¡å‹æ¥æ”¯æŒæ ‡å‡†åŒ–ã€‚äº¤é€šè§„åˆ’è½¯ä»¶è¿˜å¯ä»¥é€šè¿‡è„šæœ¬ç¼–å†™ä»¥åŠç”¨æˆ·å®šä¹‰çš„æ•°æ®å±‚å’Œå±æ€§è¿›è¡Œæ‰©å±•ã€‚ å¤šå±‚æ¨¡æ‹Ÿå®Œå…¨é›†æˆçš„æ¨¡æ‹Ÿå’Œå¤šæ–¹æ¡ˆå»ºæ¨¡å¯ç®€åŒ–æ‚¨çš„æ–¹æ³•ã€‚PTV Visum æ˜¯ç”¨äºå®è§‚æ¨¡æ‹Ÿçš„å·¥å…·ï¼Œè€Œ PTV Vissim æ˜¯ç”¨äºå¾®è§‚ä»¿çœŸçš„å·¥å…·ã€‚ä¸¤ç§è½¯ä»¶å‡å…·æœ‰ç›¸åŒçš„æ–¹æ³•ï¼Œå¯ä½œä¸ºå±‚å’Œå±‚ä¹‹é—´çš„æ¡¥æ¢ã€‚ PTV Visum çš„åº”ç”¨é¢†åŸŸä½œä¸ºäº¤é€šä¸“ä¸šäººå‘˜ï¼Œæ‚¨å¿…é¡»åœ¨ç«äº‰éœ€æ±‚ä¹‹é—´å–å¾—å¹³è¡¡ã€‚æ‚¨æ‰€åœ¨åŸå¸‚çš„æ¯ä¸ªäººéƒ½å¸Œæœ›è·å¾—å®‰å…¨ä¾¿æ·çš„äº¤é€šã€‚åŒæ—¶ï¼Œæ‚¨éœ€è¦æä¾›è´Ÿæ‹…å¾—èµ·ä¸”é«˜æ•ˆçš„å¯é è§£å†³æ–¹æ¡ˆã€‚åœ¨ 40 å¤šå¹´çš„ç ”å‘æ”¯æŒä¸‹ï¼ŒPTV Visum ä¸ä»…ç»è¿‡ç§‘å­¦éªŒè¯ï¼Œè€Œä¸”ä¸ºäº¤é€šè§„åˆ’è§£å†³æ–¹æ¡ˆæä¾›äº†å¹¿æ³›çš„åº”ç”¨ã€‚ å¯é çš„äº¤é€šè§„åˆ’æ²¡æœ‰å¼ºå¤§è€Œå¯é çš„å·¥å…·ï¼Œå°±æ— æ³•ç¡®å®šå¤šå¼è”è¿çš„æˆ˜ç•¥ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥ä¾é PTV Visum å…¨é¢äº†è§£æ‚¨çš„äº¤é€šæ¨¡å‹ã€‚PTV Visum åˆ›å»ºäº¤é€šç³»ç»Ÿçš„æ•°å­—å‰¯æœ¬ï¼Œå› æ­¤æ‚¨å¯ä»¥äº†è§£å½“å‰å­˜åœ¨çš„é—®é¢˜å¹¶å‘ç°æœºé‡ã€‚ å…¬å…±äº¤é€šè§„åˆ’ç®€åŒ–PTV Visum æ˜¯å”¯ä¸€æä¾›é«˜åº¦å±•ç¤ºå…¬å…±äº¤é€šç³»ç»Ÿçš„ä¸“ä¸šäº¤é€šå»ºæ¨¡è½¯ä»¶ã€‚ä»æŠ•èµ„æ–°çš„çº¿è·¯å’Œè½¦ç«™ï¼Œåˆ°æ—¶åˆ»è¡¨å’Œè½¦é˜Ÿè§„æ¨¡çš„å˜åŒ–ï¼ŒPTV Visum éƒ½èƒ½ä¸ºæ‚¨æä¾›è®¡åˆ’çš„æ•´ä½“æ¦‚è§ˆï¼Œå¹¶ä¸ºæ‚¨æ¯æ¬¡éƒ½èƒ½åšå‡ºæ˜æ™ºçš„å†³å®šã€‚ å¡‘é€ å‡ºè¡Œçš„æœªæ¥PTV Visum æ˜¯æ‚¨çš„æ•°å­—å¹¿åœºã€‚å®ƒæ˜¯å”¯ä¸€æ¨¡æ‹Ÿæ±½è½¦ã€è‡ªè¡Œè½¦å’Œä¹˜è½¦å…±äº«æ¨¡å‹çš„äº¤é€šè§„åˆ’è½¯ä»¶ï¼Œä»¥æ£€æŸ¥å®ƒä»¬å¯¹ä»»ä½•åŸå¸‚çš„å½±å“ã€‚PTV Visum é€‚åº”å˜åŒ–å¹¶ä¸æ–­åˆ›æ–°ï¼Œä»¥å¸®åŠ©æ‚¨æˆä¸ºæ™ºæ…§åŸå¸‚ã€‚ è§£å†³å¤§è§„æ¨¡ä»¿çœŸæŒ‘æˆ˜è¾ƒå¤§è§„æ¨¡çš„æ¨¡å‹å¯ä»¥å‡†ç¡®æ•è·äº¤é€šå’Œäº¤é€šæ¨¡æ‹Ÿï¼Œä½†è®¡ç®—æˆæœ¬è¾ƒé«˜ã€‚å› æ­¤ï¼ŒPTV Visum ä½¿ç”¨åŸºäºä»¿çœŸçš„åŠ¨æ€äº¤é€šåˆ†é…ï¼Œå°†å¾®è§‚å’Œä¸­è§‚çš„ä»¿çœŸä¸é«˜æ•ˆçš„è¿è¡Œæ—¶é—´ç»“åˆåœ¨ä¸€èµ·ã€‚ä¸ä»…æ˜“äºä½¿ç”¨ï¼Œè€Œä¸”ä¸éœ€è¦è„šæœ¬ã€‚ ä¼ ç»Ÿå››é˜¶æ®µæ¨¡å‹å®è§‚å››é˜¶æ®µé¢„æµ‹æ˜¯ä¼ ç»Ÿäº¤é€šè¡Œä¸šçš„ç†è®ºåŸºç¡€ï¼ŒVisum ä½œä¸ºå®è§‚åˆ†æè½¯ä»¶ç»™äº¤é€šè§„åˆ’å¸ˆå¸¦æ¥äº†æå¤§çš„ä¾¿åˆ©ï¼Œå››é˜¶æ®µæ³•è™½ç„¶æ¶‰åŠå¤§é‡çš„æ•°å­¦æ¨¡å‹ï¼Œä½†ä»–çš„æ•´ä½“æµç¨‹å…¶å®éå¸¸ç®€å•ã€‚ äº¤é€šç”Ÿæˆè®¡ç®—æ¯ä¸ªäº¤é€šå°åŒºçš„äº§ç”Ÿå’Œå¸å¼•äº¤é€šé‡ï¼ˆPA å€¼ï¼‰ã€‚å¦‚ä½•è®¡ç®—ï¼Ÿå·¥ä¸šç•Œå¸¸ç”¨çš„å°±æ˜¯å¸å¼•ç‡æ³•ã€‚è§„èŒƒä¸­å¸¸å¸¸ä¼šç»™åˆ°æ¯ä¸€ç±»ç”¨åœ°çš„é«˜å³°å°æ—¶åˆ°å‘ç‡ï¼Œç›´æ¥æ‹¿ç”¨åœ°é¢ç§¯ä¹˜ä»¥è¿™ä¸ªæ¯”ç‡ï¼Œå³å¯è®¡ç®—å‡º PA å€¼ã€‚ äº¤é€šåˆ†å¸ƒå„å°åŒºä¹‹é—´çš„å‡ºè¡Œé‡ï¼ˆODï¼‰ã€‚æŠŠ PA è½¬åŒ–ä¸º ODã€‚ä¸Šä¸€æ­¥åªæ˜¯è®¡ç®—å‡ºæ¯ä¸ªå°åŒºçš„åˆ°å‘æ€»é‡ï¼Œä½†ä¸çŸ¥é“è¿™äº›åˆ°ä¸å‘æ˜¯ä»å“ªé‡Œæ¥ï¼Œåˆ°å“ªé‡Œå»çš„ã€‚è¿™ä¸€ä¸ªé˜¶æ®µåˆ™æ˜¯æ˜ç¡®å„ä¸ªå°åŒºé—´çš„å‡ºè¡Œé‡ã€‚å¦‚ä½•è®¡ç®—ï¼Ÿæœ€å…¸å‹çš„å°±æ˜¯é‡åŠ›æ¨¡å‹ã€‚æ­¤å¤–è¿˜æœ‰æœºä¼šæ¨¡å‹ã€å¢é•¿ç‡æ³•ç­‰ã€‚ æ–¹å¼åˆ’åˆ†é˜¶æ®µäºŒçš„ OD æ˜¯æ€»çš„å‡ºè¡Œé‡ï¼Œè€Œè¿™äº›å‡ºè¡Œé‡ä¼šç”±ä¸åŒçš„äº¤é€šæ–¹å¼æ¥åˆ†æ‹…ï¼Œæ¯”å¦‚ä¸€ä¸‡çš„å‡ºè¡Œé‡ä¸­ï¼Œæœ‰ 3000 æ˜¯å°æ±½è½¦ï¼Œæœ‰ 3000 æ˜¯å…¬äº¤è½¦ï¼Œç­‰ç­‰ã€‚æˆ‘ä»¬æµé‡é¢„æµ‹å¾€å¾€æ˜¯ç®—å°æ±½è½¦ï¼Œå› æ­¤æ–¹å¼åˆ’åˆ†å®é™…æ˜¯ä»ä¸Šä¸€æ­¥çš„ OD ä¸­æŠ½å–ä¸€éƒ¨åˆ†å‡ºæ¥ã€‚è¿™ä¸€éƒ¨åˆ†å¯¹åº”çš„ç†è®ºä»¥ç¦»æ•£é€‰æ‹©æ¨¡å‹ï¼ˆLogit ç°‡æ¨¡å‹ï¼‰ä¸ºä¸»ã€‚ æµé‡åˆ†é…å°†å„ä¸ªäº¤é€šå°åŒºä¹‹é—´çš„ä¸åŒäº¤é€šæ–¹å¼çš„å‡ºè¡Œåˆ†å¸ƒå…·ä½“åœ°åˆ†é…åˆ°å„æ¡çº¿è·¯ä¸Šã€‚æŠŠä»é˜¶æ®µä¸‰å‡ºæ¥çš„æµé‡å¾€è·¯ç½‘ä¸Šåˆ†é…ï¼Œæœ€ç»ˆå¯ä»¥å¾—åˆ°æ¯æ¡è·¯çš„æµé‡ã€‚å¦‚ä½•åˆ†ï¼ŸåŸºäºé˜»æŠ—å‡½æ•°æ„å»ºæœ€ä¼˜åŒ–æ¨¡å‹ã€‚é˜»æŠ—å‡½æ•°å¯é€‰æ‹©æœ€çŸ­è·ç¦»ã€æœ€çŸ­æ—¶é—´ï¼Œç­‰ç­‰ã€‚æœ€ä¼˜åŒ–ç›®æ ‡æœ‰ç”¨æˆ·æœ€ä¼˜ï¼Œç³»ç»Ÿæœ€ä¼˜ï¼Œç­‰ç­‰ã€‚ å‚è€ƒé“¾æ¥ï¼š https://www.ptvgroup.com/zhhttps://zhuanlan.zhihu.com/p/181628752","link":"/blog/2022/09/27/PTV-Visum%E7%AE%80%E4%BB%8B/"},{"title":"Pandas DataFrame ä¹‹ groupby()","text":"groupby()groupby() æ–¹æ³•å®šä¹‰ï¼š 1234567891011DataFrame.groupby( by=None, axis=0, level=None, as_index=True, sort=True, group_keys=True, squeeze=NoDefault.no_default, observed=False, dropna=True ) -&gt; DataFrameGroupBy å¯¹ä¸€ä¸ª DataFrame ä½¿ç”¨ groupby() æ–¹æ³•èšåˆåï¼Œè¿”å›çš„æ•°æ®ç±»å‹ä¸º pandas.core.groupby.generic.DataFrameGroupByï¼Œå…¶å®å°±æ˜¯åˆ†ç»„åçš„å­ DataFrameï¼Œå¤„ç†æ—¶å°†å…¶å½“æˆ DataFrame å¤„ç†å³å¯ï¼Œè°ƒç”¨ agg() æˆ– apply() æ–¹æ³•ï¼Œå®Œæˆç›¸å…³çš„æ•°æ®ç»Ÿè®¡ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•éå† DataFrameGroupBy ç±»å‹æ•°æ®ï¼š 1234567891011121314df = pd.DataFrame([ {&quot;year&quot;:&quot;2022&quot; ,&quot;month&quot;:&quot;09&quot;, &quot;date&quot;:&quot;2022-09-13&quot;, &quot;min_temp&quot;:23, &quot;max_temp&quot;:26}, {&quot;year&quot;:&quot;2022&quot; ,&quot;month&quot;:&quot;09&quot;, &quot;date&quot;:&quot;2022-09-14&quot;, &quot;min_temp&quot;:22, &quot;max_temp&quot;:27}, {&quot;year&quot;:&quot;2022&quot; ,&quot;month&quot;:&quot;09&quot;, &quot;date&quot;:&quot;2022-09-15&quot;, &quot;min_temp&quot;:23, &quot;max_temp&quot;:29}])df_g=df.groupby(['year','month'])print(type(df_g))for index,data in df_g: print(type(index)) print(index) print(type(data)) print(data) 12345678&lt;class 'pandas.core.groupby.generic.DataFrameGroupBy'&gt;&lt;class 'tuple'&gt;('2022', '09')&lt;class 'pandas.core.frame.DataFrame'&gt; year month date min_temp max_temp0 2022 09 2022-09-13 23 261 2022 09 2022-09-14 22 272 2022 09 2022-09-15 23 29 å¯ä»¥çœ‹å‡ºåˆ†ç»„åçš„æ•°æ®ç±»å‹ä¸º DataFrameGroupByï¼Œå…¶åŒ…å«äº† index å’Œ dataï¼Œindex æ˜¯åŒ…å«äº†åˆ†ç»„åˆ—çš„ tupleï¼Œdata æ˜¯è¯¥ç»„çš„å­ DataFrameã€‚ agg()agg() æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š 123456DataFrameGroupBy.aggregate( func=None, *args, engine=None, engine_kwargs=None, **kwargs) -&gt; DataFrame ä»¥ä¸‹ç»™å‡ºå‡ ä¸ªç¤ºä¾‹ï¼š é€‰æ‹©æŸä¸€åˆ—è¿›è¡Œèšåˆ1df.groupby(['year','month']).max_temp.agg(['min','max','mean']) 123 min max meanyear month 2022 09 26 29 27.333333 ç»™ä¸åŒåˆ—åˆ†åˆ«èšåˆ1df.groupby(['year','month']).agg({'min_temp': ['mean'],'max_temp': ['min','max','mean']}) 1234 min_temp max_temp mean min max meanyear month 2022 09 22.666667 26 29 27.333333 é‡å‘½åèšåˆåçš„åˆ—åç§°1234df.groupby(['year','month']).agg( min_temp_mean=pd.NamedAgg(column='min_temp', aggfunc='mean'), max_temp_mean=pd.NamedAgg(column='max_temp', aggfunc='mean'),) 123 min_temp_mean max_temp_meanyear month 2022 09 22.666667 27.333333 apply()apply å¯ä»¥æŒ‰ç»„åº”ç”¨å‡½æ•° func å¹¶å°†ç»“æœç»„åˆåœ¨ä¸€èµ·ï¼Œè™½ç„¶ apply æ˜¯ä¸€ç§éå¸¸çµæ´»çš„æ–¹æ³•ï¼Œä½†å®ƒçš„ç¼ºç‚¹æ˜¯ä½¿ç”¨å®ƒå¯èƒ½æ¯”ä½¿ç”¨æ›´å…·ä½“çš„æ–¹æ³•ï¼ˆå¦‚ agg æˆ– transformï¼‰æ…¢å¾ˆå¤šã€‚ æ±‚åˆ†ç»„ä¸­ max_temp çš„æœ€å¤§å€¼ä¸ min_temp çš„æœ€å°å€¼çš„å·®å€¼1df_g.apply(lambda x: x.max_temp.max() - x.min_temp.min()) 123year month2022 09 7dtype: int64 groupby() åè½¬ä¸º DataFrame DataFrame.reset_index()å¦‚æœåˆ†ç»„åä½¿ç”¨ agg() è¿›è¡Œèšåˆï¼Œè¿”å›çš„æ˜¯ DataFrameï¼Œä½†æ˜¯ç´¢å¼•åˆ—æ˜¯åŸæ¥çš„æ±‡èšåˆ—ï¼Œä½¿ç”¨ reset_index(inplace=True) å¯ä»¥å°†ç´¢å¼•è½¬åŒ–ä¸ºåˆ—ï¼š123df1=df_g.agg('min')df1.reset_index(inplace=True)print(df1) 12 year month date min_temp max_temp0 2022 09 2022-09-13 22 26 Series.to_frame()å¦‚æœåˆ†ç»„åä½¿ç”¨ apply() è¿›è¡Œèšåˆï¼Œåˆ™è¿”å›çš„æ˜¯ Seriesï¼Œto_frame() æ˜¯å°† Series è½¬åŒ–ä¸º DataFrame çš„æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»æ„ Series è½¬åŒ–ä¸º DataFrameï¼š123sr = df_g.apply(lambda x: x.max_temp.max() - x.min_temp.min())df1 = sr.to_frame('diff').reset_index()print(df1) 12 year month diff0 2022 09 7","link":"/blog/2022/09/13/Pandas-DataFrame%E4%B9%8Bgroupby/"},{"title":"Spark ä¹‹ RDDã€DFã€DS åˆ›å»ºä¸è½¬æ¢","text":"Resilient Distributed Datasetsï¼ˆRDDï¼‰RDD æ˜¯ Resilient Distributed Datasetsï¼ˆå¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼‰çš„ç¼©å†™ï¼Œæ˜¯ Spark ä¸­ä¸€ä¸ªé‡è¦çš„æŠ½è±¡æ¦‚å¿µï¼Œå®ƒè¡¨ç¤ºè·¨é›†ç¾¤èŠ‚ç‚¹ä¸”è¢«åˆ†åŒºçš„æ•°æ®é›†åˆï¼Œå¯ä»¥å¹¶è¡Œæ“ä½œã€‚Spark ä¸º RDD æä¾›äº†ä¸°å¯Œçš„æ“ä½œç®—å­ï¼Œå¯ä»¥é«˜æ•ˆå¤„ç†æ•°æ®ã€‚ åˆ›å»º RDDæœ‰ä¸¤ç§åˆ›å»º RDD çš„æ–¹å¼ï¼šå¹¶è¡ŒåŒ–é©±åŠ¨ç¨‹åºä¸­çš„ç°æœ‰é›†åˆï¼Œæˆ–å¼•ç”¨å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿä¸­çš„æ•°æ®é›†ï¼Œä¾‹å¦‚å…±äº«æ–‡ä»¶ç³»ç»Ÿã€HDFSã€HBase æˆ–ä»»ä½•æä¾› Hadoop InputFormat çš„æ•°æ®æºã€‚ 12345678// åˆ›å»º SparkContextval conf = new SparkConf().setAppName(appName).setMaster(master)val sc = new SparkContext(conf)// å¹¶è¡ŒåŒ–é›†åˆval data = Array(1, 2, 3, 4, 5)val distData = sc.parallelize(data)// å¤–éƒ¨æ–‡ä»¶val distFile = sc.textFile(&quot;data.txt&quot;) Datasetï¼ˆDSï¼‰Dataset æ˜¯åˆ†å¸ƒå¼æ•°æ®é›†åˆã€‚Dataset æ˜¯ Spark 1.6 ä¸­æ·»åŠ çš„ä¸€ä¸ªæ–°æ¥å£ï¼Œå®ƒæä¾›äº† RDD çš„ä¼˜åŠ¿ï¼ˆå¼ºç±»å‹åŒ–ã€ä½¿ç”¨å¼ºå¤§ lambda å‡½æ•°çš„èƒ½åŠ›ï¼‰ä»¥åŠ Spark SQL ä¼˜åŒ–æ‰§è¡Œå¼•æ“çš„ä¼˜åŠ¿ã€‚ DataFrameï¼ˆDFï¼‰DataFrame å…¶å®æ˜¯ Dataset[Row] çš„åˆ«åï¼Œå…¶ä¸­çš„æ•°æ®æ˜¯æŒ‰ç…§å­—æ®µç»„ç»‡çš„ï¼Œå®ƒåœ¨æ¦‚å¿µä¸Šç­‰åŒäºå…³ç³»æ•°æ®åº“ä¸­çš„è¡¨æˆ– R/Python ä¸­çš„ data frameã€‚åº”ç”¨ç¨‹åºå¯ä»¥ä½¿ç”¨ SparkSession ä»ç°æœ‰çš„ RDDã€Hive è¡¨æˆ– Spark æ•°æ®æºåˆ›å»º DataFrameã€‚ 1234567891011121314151617// åˆ›å»º SparkSession val spark = SparkSession .builder() .appName(&quot;app name&quot;) .config(&quot;spark.sql.warehouse.dir&quot;, warehouseLocation) .enableHiveSupport() .getOrCreate()// text fileï¼ˆè¡Œåˆ†å‰²æ–‡æœ¬ï¼‰val text_df = spark.read.text(&quot;file.txt&quot;)// json fileval json_df = spark.read.json(&quot;file.json&quot;)// csv fileval csv_df = spark.read.csv(&quot;file.csv&quot;)// parquet fileval parquet_df = spark.read.csv(&quot;file.parquet&quot;)// hive tableval hive_table_df = spark.sql(&quot;select * from database_name.table_name&quot;) RDD to DFé€šè¿‡åå°„æ¨æ–­åˆ›å»º DataFrame12345val rdd = sc.parallelize(Seq((&quot;Tom&quot;, 13),(&quot;Lily&quot;, 25)))import spark.implicits._val df = rdd.toDF(&quot;name&quot;,&quot;age&quot;) toDF() æ–¹æ³•å®šä¹‰å¦‚ä¸‹ï¼š 1def toDF(colNames: String*): DataFrame ç”¨äºå°†å¼ºç±»å‹æ•°æ®é›†åˆè½¬æ¢ä¸ºå…·æœ‰é‡å‘½ååˆ—çš„é€šç”¨ DataFrameã€‚åœ¨ä» RDD è½¬æ¢ä¸ºå…·æœ‰æœ‰æ„ä¹‰åç§°çš„ DataFrame æ—¶éå¸¸æ–¹ä¾¿ã€‚ é€šè¿‡ StructType åˆ›å»º DataFrame123456789101112131415import org.apache.spark.sql.types.{IntegerType, StringType, StructField, StructType}import org.apache.spark.sql.Rowval rdd = sc.parallelize(Seq((&quot;Tom&quot;, &quot;13&quot;),(&quot;Lily&quot;, &quot;25&quot;)))//åˆ›å»º schemaval schema = StructType( List( StructField(&quot;name&quot;, StringType, false), StructField(&quot;age&quot;, IntegerType, false) ))//å°† rdd æ˜ å°„åˆ° rdd[row] ä¸Šï¼Œå¹¶å°†æ•°æ®æ ¼å¼åŒ–ä¸ºç›¸åº”çš„ç±»å‹val rdd_row = rdd.map(x =&gt; Row(x._1,x._2.toInt))// åˆ›å»º dataframeval df = spark.createDataFrame(rdd_row, schema) é€šè¿‡å®šä¹‰æ ·ä¾‹ç±»åˆ›å»º DataFrame123456789val rdd = sc.parallelize(Seq((&quot;Tom&quot;, &quot;13&quot;),(&quot;Lily&quot;, &quot;25&quot;)))//åˆ›å»ºæ ·ä¾‹ç±»case class User(name: String, age: Int)//å°† rdd æ˜ å°„åˆ° rdd[User] ä¸Šval rdd_user = rdd.map(x =&gt; User(x._1,x._2.toInt))// åˆ›å»º dataframeval df = spark.createDataFrame(rdd_user)// æ›´ç®€å•ä¸€ç‚¹ï¼Œå¯ä»¥è‡ªåŠ¨æ¨æ–­å‡º schema åˆ›å»º dataframeval df = rdd_user.toDF() RDD to DSé€šè¿‡å®šä¹‰æ ·ä¾‹ç±»åˆ›å»º Dataset123456789val rdd = sc.parallelize(Seq((&quot;Tom&quot;, &quot;13&quot;),(&quot;Lily&quot;, &quot;25&quot;)))//åˆ›å»ºæ ·ä¾‹ç±»case class User(name: String, age: Int)//å°† rdd æ˜ å°„åˆ° rdd[User] ä¸Šval rdd_user = rdd.map(x =&gt; User(x._1,x._2.toInt))// åˆ›å»º dataframeval ds = spark.createDataset(rdd_user)// æ›´ç®€å•ä¸€ç‚¹ï¼Œå¯ä»¥è‡ªåŠ¨æ¨æ–­å‡º schema åˆ›å»º datasetval ds = rdd_user.toDS() DS/DF to RDD123val df = spark.read.csv(&quot;file.csv&quot;)// è·å– rddval rdd = df.rdd DF to DS123//åˆ›å»ºæ ·ä¾‹ç±»case class User(name: String, age: Int)val ds = DataFrame.map(x=&gt; User(x.getAs(0), x.getAs(1))) DS to DF1val df = DataSet[DataTypeClass].toDF()","link":"/blog/2022/09/08/Spark%E4%B9%8BRDD%E3%80%81DF%E3%80%81DS%E5%88%9B%E5%BB%BA%E4%B8%8E%E8%BD%AC%E6%8D%A2/"},{"title":"Spark ä¹‹è‡ªå®šä¹‰è¾“å‡ºæ ¼å¼å†™å…¥æ–‡ä»¶","text":"Spark å¸¸ç”¨çš„ä¿å­˜æ–‡ä»¶æ–¹å¼ RDD ä¿å­˜è‡³æ–‡æœ¬æ–‡ä»¶1rdd.saveAsTextFile(&quot;path/result&quot;) RDD ä»¥æŒ‡å®š Hadoop è¾“å‡ºæ ¼å¼ä¿æŒè‡³æ–‡ä»¶ï¼Œä»…æ”¯æŒ (key,value) æ ¼å¼çš„ RDD1rdd.saveHadoopFile(&quot;path/result&quot;,classOf[T],classOf[T],classOf[outputFormat]) DataFrame ä»¥æŒ‡å®šæ ¼å¼ä¿æŒè‡³æ–‡ä»¶1df.write.mode(&quot;overwrite&quot;).option(&quot;header&quot;,&quot;true&quot;).format(&quot;csv&quot;).save(&quot;path/result&quot;) ä»¥ä¸Šéƒ½ç®€å•çš„ï¼Œæœ€æ™®éçš„ä¿å­˜æ–‡ä»¶çš„æ–¹å¼ï¼Œä½†æœ‰æ—¶å€™æ˜¯ä¸èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼Œä½¿ç”¨ä¸Šè¿°çš„æ–‡ä»¶ä¿å­˜æ–¹å¼ä¿å­˜ä¹‹åï¼Œæ–‡ä»¶åé€šå¸¸æ˜¯ part-00000 çš„æ–¹å¼ä¿å­˜åœ¨è¾“å‡ºæ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä¸”è¿˜åŒ…å«æ•°æ®æ ¡éªŒå’Œæ–‡ä»¶ part-00000.crc å’Œ .SUCCESS æ–‡ä»¶ï¼Œå…¶ä¸­ part-00000.crc ç”¨æ¥æ ¡éªŒæ•°æ®çš„å®Œæ•´æ€§ï¼Œ.SUCCESS æ–‡ä»¶ç”¨æ¥è¡¨ç¤ºæœ¬æ¬¡è¾“å‡ºä»»åŠ¡æˆåŠŸå®Œæˆã€‚ è‡ªå®šä¹‰ä¿å­˜æ–‡ä»¶åˆ›å»ºè‡ªå®šä¹‰ FileoutputFormat ç±»ç»§æ‰¿ MultipleTextOutputFormat ç±»å¹¶å¤å†™ä»¥ä¸‹æ–¹æ³•ï¼š 12345678910111213141516171819202122232425262728293031import org.apache.hadoop.fs.{FileSystem, Path}import org.apache.hadoop.mapred.{FileOutputFormat, JobConf}import org.apache.hadoop.mapred.lib.MultipleTextOutputFormatimport org.apache.hadoop.io.NullWritableclass CustomOutputFormat() extends MultipleTextOutputFormat[Any, Any] { override def generateFileNameForKeyValue(key: Any, value: Any, name: String): String = { //è¿™é‡Œçš„keyå’ŒvalueæŒ‡çš„å°±æ˜¯è¦å†™å…¥æ–‡ä»¶çš„rddå¯¹ key.asInstanceOf[String] + &quot;.csv&quot; } override def generateActualKey(key: Any, value: Any): String = { //è¾“å‡ºæ–‡ä»¶ä¸­åªä¿ç•™value æ•… key è¿”å›ä¸ºç©º NullWritable.get() } override def checkOutputSpecs(ignored: FileSystem, job: JobConf): Unit = { val outDir: Path = FileOutputFormat.getOutputPath(job) if (outDir != null) { //ç›¸åŒæ–‡ä»¶åçš„æ–‡ä»¶è‡ªåŠ¨è¦†ç›– //é¿å…ç¬¬äºŒæ¬¡è¿è¡Œåˆ†åŒºæ•°å°‘äºç¬¬ä¸€æ¬¡,å†å²æ•°æ®è¦†ç›–å¤±è´¥,ç›´æ¥åˆ é™¤å·²ç»å­˜åœ¨çš„ç›®å½• try { ignored.delete(outDir, true) } catch { case _: Throwable =&gt; {} } FileOutputFormat.setOutputPath(job, outDir) } }} å°† RDD æ˜ å°„ä¸º PairRDD1val pair_rdd = rdd.map(x=&gt;(x.split(&quot;,&quot;)(0),x)).partitionBy(new HashPartitioner(50)) è°ƒç”¨ saveAsHadoopFile è¾“å‡º1pair_rdd.saveAsHadoopFile(output, classOf[String], classOf[String], classOf[CustomOutputFormat])","link":"/blog/2022/09/08/Spark%E4%B9%8B%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BE%93%E5%87%BA%E6%A0%BC%E5%BC%8F%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6/"},{"title":"Spark é¡¹ç›® jar åŒ…ä¾èµ–å†²çªé—®é¢˜æ€»ç»“","text":"Spark é¡¹ç›® jar åŒ…åŠ è½½é¡ºåºå½“æˆ‘ä»¬ç¼–å†™çš„ Spark é¡¹ç›®çš„ä¾èµ–è¾ƒå¤šæ—¶ï¼Œæäº¤è¿è¡Œä»»åŠ¡æ—¶ä¾¿å¾ˆå®¹æ˜“å‡ºç°å› ä¸ºåŒ…å†²çªå¯¼è‡´çš„ java.lang.NoSuchMethodError æŠ¥é”™ã€‚åŸå› æ˜¯å½“ç”¨æˆ·æä¾› Spark ä»»åŠ¡è¿è¡Œæ—¶ï¼ŒSpark éœ€è¦é¦–å…ˆåŠ è½½è‡ªèº«çš„ä¾èµ–åº“ï¼ˆjarsï¼‰ï¼Œä¸€èˆ¬ä½äº $SPARK_HOME/jars ç›®å½•ä¸‹ï¼Œç„¶åå†åŠ è½½ç”¨æˆ·æäº¤çš„ jar åŒ…ï¼Œå½“ä¸¤è€…å­˜åœ¨åŒæ ·çš„ jar ä½†æ˜¯ç‰ˆæœ¬ä¸åŒæ—¶ï¼Œå¦‚æœé«˜ä½ç‰ˆæœ¬ä¸èƒ½äº’ç›¸å…¼å®¹ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚ Spark jar åŒ…åŠ è½½é¡ºåºï¼š SystemClassPath: $SPARK_HOME/jars å³ Spark å®‰è£…æ—¶å€™æä¾›çš„ä¾èµ–åŒ… UserClassPath: Spark-submit --jars ç”¨æˆ·æäº¤çš„ä¾èµ–åŒ… UserClassPath: Spark-submit app.jar ç”¨æˆ·çš„ Spark ä»»åŠ¡ jar åŒ… spark-submit æäº¤æŒ‡å®šå‚æ•°è§£å†³åŒ…å†²çªæ—¢ç„¶ Spark æ˜¯é¡ºåºåŠ è½½ jar åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•é€šè¿‡æ”¹å˜å…¶åŠ è½½é¡ºåºè§£å†³ä¾èµ–å†²çªã€‚ä»¥ jackson-core ä¸ºä¾‹ï¼Œå…¶åœ¨æˆ‘ Spark é¡¹ç›®ä¸­çš„ Maven ä¾èµ–å¦‚ä¸‹ï¼š 12345&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-core&lt;/artifactId&gt; &lt;version&gt;2.13.2&lt;/version&gt;&lt;/dependency&gt; ä½†æ˜¯æäº¤ä»»åŠ¡çš„é›†ç¾¤å®‰è£…çš„æ˜¯ Spark 2.2.0 ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬çš„ Spark ä¾èµ– jackson-core 2.6.5 ç‰ˆæœ¬ï¼Œä¸æˆ‘é¡¹ç›®ä¸­çš„ä¾èµ–å­˜åœ¨ç‰ˆæœ¬å†²çªï¼Œåœ¨ 2.13.2 ç‰ˆæœ¬ä¸­ï¼Œå­˜åœ¨ com.fasterxml.jackson.core.JsonParser.currentName() æ–¹æ³•ï¼Œè€Œåœ¨ 2.6.5 ç‰ˆæœ¬ä¸­åˆ™æ²¡æœ‰è¯¥æ–¹æ³•ã€‚å½“é‡‡ç”¨ Spark é»˜è®¤åŠ è½½ jar é¡ºåºçš„æ–¹å¼ï¼Œä¼šåŠ è½½ jackson-core 2.6.5 ç‰ˆæœ¬ï¼Œå¹¶å‡ºç°ä»¥ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š 1java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonParser.currentName()Ljava/lang/String æ­¤æ—¶å¯ä»¥é€šè¿‡æŒ‡å®šä»¥ä¸‹å‚æ•°ï¼Œä¼˜å…ˆåŠ è½½ç”¨æˆ·æäº¤çš„ä¾èµ– jar åŒ…ï¼š 1234567spark-submit \\--master yarn \\--jars /data/jar/jackson-core-2.13.2.jar \\--conf &quot;spark.driver.userClassPathFirst=true&quot; \\--conf &quot;spark.executor.userClassPathFirst=true&quot; \\--class com.xxx.SparkApp \\spark_app.jar å…¶ä¸­ç›¸å…³å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š --jars ç”¨äºæäº¤ç”¨æˆ·çš„ä¾èµ–åŒ…ï¼Œè‹¥æœ‰å¤šä¸ªä¾èµ–åŒ…ï¼Œä¹‹é—´ç”¨é€—å·åˆ†å¼€ --conf &quot;spark.driver.userClassPathFirst=true&quot; æŒ‡å®š driver ä¼˜å…ˆåŠ è½½ç”¨æˆ·æäº¤çš„ jar åŒ… --conf &quot;spark.executor.userClassPathFirst=true&quot; æŒ‡å®š executor ä¼˜å…ˆåŠ è½½ç”¨æˆ·æäº¤çš„ jar åŒ… ä½†æ˜¯å½“é¡¹ç›®æœ‰å¾ˆå¤šä¾èµ–éƒ½ä¸ Spark æœ¬èº«çš„ä¾èµ–å­˜åœ¨å†²çªæ—¶ï¼Œè¿™ç§æ–¹å¼æ˜¾ç„¶å°±éå¸¸ä¸çµæ´»äº†ï¼Œéœ€è¦æŒ‡å®šæ‰€æœ‰å†²çªçš„ jar åŒ…ï¼Œç›¸å½“éº»çƒ¦ã€‚å¹¶ä¸”ä¸ºäº†ä¿æŒé›†ç¾¤ä¸Š Class Path çš„çº¯å‡€ï¼Œä¸å½±å“ Spark æœ¬èº«çš„è¿è¡Œï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šå°†å¼€å‘å®Œæˆçš„ Spark é¡¹ç›®æ‰“åŒ…æˆ uber-jarï¼Œå³åŒ…å«æ‰€æœ‰ä¾èµ–çš„ jarï¼Œç›´æ¥æäº¤åˆ° Spark é›†ç¾¤è¿è¡Œï¼Œä¸éœ€è¦ä¾èµ–å¤–éƒ¨ jarï¼Œæ­¤æ—¶å°±å¯ä»¥åˆ©ç”¨ maven-plugin-shade åˆ¶ä½œ shade jar æ¥è§£å†³å†²çªäº†ã€‚ åˆ©ç”¨ maven-plugin-shade åˆ¶ä½œ shade jar è§£å†³å†²çªreloaction é‡å®šä½ class æ–‡ä»¶ä½¿ç”¨ shade æä¾›çš„é‡å®šä½åŠŸèƒ½ï¼Œå¯ä»¥æŠŠæŒ‡å®šçš„ç±»ç§»åŠ¨åˆ°ä¸€ä¸ªå…¨æ–°çš„åŒ…ä¸­ï¼Œå®ç°éš”ç¦»å¤šä¸ªé¡¹ç›®ä¾èµ–åŒä¸€ç±»çš„ä¸åŒç‰ˆæœ¬ï¼Œä»¥è§£å†³ç‰ˆæœ¬å†²çªé—®é¢˜ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š 12345678910111213141516171819202122&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt; &lt;version&gt;3.2.4&lt;/version&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;shade&lt;/goal&gt; &lt;/goals&gt; &lt;configuration&gt; &lt;relocations&gt; &lt;!-- é‡å®šä½ com.fasterxml.jackson è‡³ com.shade.jackson --&gt; &lt;relocation&gt; &lt;pattern&gt;com.fasterxml.jackson&lt;/pattern&gt; &lt;shadedPattern&gt;com.shade.jackson&lt;/shadedPattern&gt; &lt;/relocation&gt; &lt;/relocations&gt; &lt;/configuration&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; &lt;pattern&gt;ï¼šåŸå§‹åŒ…å &lt;shadedPattern&gt;ï¼šé‡å‘½ååçš„åŒ…å åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æŠŠ com.fasterxml.jackson åŒ…å†…çš„æ‰€æœ‰å­åŒ…åŠ class æ–‡ä»¶é‡å®šä½åˆ°äº† com.shade.jackson åŒ…å†…ã€‚ æ‹†åˆ†æ¨¡å—å—æäº¤ Spark é¡¹ç›®æ—¶å‘ç”Ÿçš„ä¾èµ–å†²çªé—®é¢˜å¯å‘ï¼Œå¦‚æœå¼€å‘çš„é¡¹ç›®æœ¬èº«ä¹Ÿå­˜åœ¨ä¾èµ–å†²çªé—®é¢˜æ—¶ï¼Œæ˜¾ç„¶é€šè¿‡ä¸Šè¿°çš„æ–¹æ³•å°±æ— æ³•è§£å†³äº†ï¼Œå› ä¸ºæ²¡æœ‰åŠæ³•åˆ†éš”å¼€å¯¹åŒä¸€ä¾èµ–çš„è°ƒç”¨è¿‡ç¨‹ï¼Œå½“ç±»åœ¨è°ƒç”¨ä¸åŒç‰ˆæœ¬çš„ä¾èµ–æ—¶ï¼Œéƒ½ä¼šå¼•ç”¨é‡å®šä½åçš„ä¾èµ–ï¼Œæ­¤æ—¶åªå­˜åœ¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¾æ—§ä¼šå‘ç”Ÿä¾èµ–å†²çªé—®é¢˜ã€‚ æ­¤æ—¶å°±åº”è¯¥å°†é¡¹ç›®æ‹†åˆ†ä¸ºå­æ¨¡å—ï¼Œå°†ä¾èµ–ä¸åŒç‰ˆæœ¬çš„ä»£ç æ‹†åˆ†æˆç‹¬ç«‹çš„å­æ¨¡å—ï¼Œå„è‡ªé‡å®šä½æœ‰å†²çªçš„ä¾èµ–ã€‚ å¦‚æœé¡¹ç›®æœ¬èº«å°±æ˜¯ä¸€ä¸ªå¤šæ¨¡å—é¡¹ç›®ï¼Œå„æ¨¡å—ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œå½“æ¨¡å—å†…éƒ¨å­˜åœ¨è¾ƒå¤šçš„ä¾èµ–å†²çªæ—¶ï¼Œå¯ä»¥ä¸ºè¯¥æ¨¡å—åˆ¶ä½œä¸€ä¸ªçº¯å‡€çš„å­æ¨¡å—ï¼Œç”¨äºé‡å®šä½æ‰€æœ‰æœ‰å†²çªçš„åŒ…ï¼Œç„¶åç»™è¯¥æ¨¡å—å¼•ç”¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ä¾èµ–ä¼ é€’å½“ä¸€ä¸ªé¡¹ç›®çš„æŸä¸ªæ¨¡å—ä¾èµ–å¦ä¸€ä¸ªæ¨¡å—æ—¶ï¼Œå¦‚æœè¿™ä¸¤ä¸ªæ¨¡å—åŒæ—¶ä¾èµ–åŒä¸€ä¸ªä¾èµ–åŒ…çš„ä¸åŒç‰ˆæœ¬æ—¶ï¼Œåˆ™æ‰“åŒ…å½“å‰æ¨¡å—æ—¶ï¼Œæœ€ç»ˆæ‰“è¿› jar çš„ä¾èµ–åŒ…æ˜¯å½“å‰æ¨¡å—çš„ä¾èµ–ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯è¢«ä¾èµ–çš„å¦ä¸€ä¸ªæ¨¡å—çš„ä¾èµ–ç‰ˆæœ¬ã€‚æ‰€ä»¥ï¼Œå¦‚æœéœ€è¦æ‰“åŒ…ç‰¹å®šç‰ˆæœ¬çš„ä¾èµ–åŒ…ï¼Œåˆ™éœ€è¦åœ¨ pom.xml ä¸­æ‰‹åŠ¨å¼•å…¥æŒ‡å®šç‰ˆæœ¬ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š å½“å‰æ¨¡å—çš„éƒ¨åˆ†ä¾èµ–ï¼š 123456789101112&lt;!-- æ¨¡å—ä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;com.xxx&lt;/groupId&gt; &lt;artifactId&gt;model-a&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.spark&lt;/groupId&gt; &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt; &lt;version&gt;2.2.0&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt; æ¨¡å— a ï¼ˆmodel-aï¼‰çš„éƒ¨åˆ†ä¾èµ–ï¼š 12345&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.13.2&lt;/version&gt;&lt;/dependency&gt; spark-core_2.11 çš„éƒ¨åˆ†ä¾èµ–ï¼š 123456&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.6.5&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt; åˆ™æ‰“åŒ…å½“å‰æ¨¡å—æ—¶ï¼Œæ‰“å…¥æœ€ç»ˆ jar åŒ…çš„æ˜¯ 2.6.5 ç‰ˆæœ¬çš„ jackson-databind ä¾èµ–ï¼Œæ­¤æ—¶å¦‚æœæƒ³æ‰“åŒ… 2.13.2 ç‰ˆæœ¬ï¼Œåˆ™éœ€è¦åœ¨ pom.xml ä¸­æ‰‹åŠ¨å¼•å…¥è¯¥ç‰ˆæœ¬ï¼š 12345678910111213141516171819202122&lt;!-- æ¨¡å—ä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;com.xxx&lt;/groupId&gt; &lt;artifactId&gt;model-a&lt;/artifactId&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.spark&lt;/groupId&gt; &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt; &lt;version&gt;2.2.0&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt;&lt;/dependency&gt;&lt;!-- spark 2.2.0 ç‰ˆæœ¬ä¸­ä½¿ç”¨çš„ jackson ç‰ˆæœ¬æ˜¯2.6.5 --&gt;&lt;!--ä½†æ˜¯ä¾èµ–çš„ model a ä¸­ä¾èµ–çš„ jackson æ˜¯ 2.13.2 ç‰ˆæœ¬ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨å¼•å…¥ï¼Œè§£å†³åŒ…å†²çª--&gt;&lt;!--ä¸ç„¶ä¼šæŠ¥é”™ï¼šcom.fasterxml.jackson.core.JsonParser.currentName()Ljava/lang/String --&gt;&lt;!--å› ä¸º jackson 2.6.5 ç‰ˆæœ¬ä¸­ä¸åŒ…å«æ­¤æ–¹æ³•--&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.13.2&lt;/version&gt;&lt;/dependency&gt; å‚è€ƒé“¾æ¥ï¼šhttps://www.playpi.org/2019112901.htmlhttps://www.lynsite.cn/20210713/1X0CvPcgvpOzkHSF/","link":"/blog/2022/09/20/Spark%E9%A1%B9%E7%9B%AEjar%E5%8C%85%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"},{"title":"Spark çš„åºåˆ—åŒ–é—®é¢˜æ€»ç»“","text":"Java åºåˆ—åŒ–Java åºåˆ—åŒ–å°±æ˜¯æŒ‡å°†ä¸€ä¸ªå¯¹è±¡è½¬åŒ–ä¸ºäºŒè¿›åˆ¶çš„ byte[] æ•°ç»„ï¼Œç„¶åä»¥æ–‡ä»¶çš„æ–¹å¼è¿›è¡Œä¿å­˜æˆ–é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œç­‰å¾…è¢«ååºåˆ—åŒ–è¯»å–å‡ºæ¥ã€‚åºåˆ—åŒ–å¸¸è¢«ç”¨äºæ•°æ®å­˜å–å’Œé€šä¿¡è¿‡ç¨‹ä¸­ã€‚ ä¸€ä¸ª Java å¯¹è±¡è¦èƒ½åºåˆ—åŒ–ï¼Œå¿…é¡»å®ç°ä¸€ä¸ªç‰¹æ®Šçš„ java.io.Serializable æ¥å£ï¼Œå®ƒçš„å®šä¹‰å¦‚ä¸‹ï¼š 12public interface Serializable {} Serializable æ¥å£æ²¡æœ‰å®šä¹‰ä»»ä½•æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸€ä¸ªç©ºæ¥å£ã€‚æˆ‘ä»¬æŠŠè¿™æ ·çš„ç©ºæ¥å£ç§°ä¸ºâ€œæ ‡è®°æ¥å£â€ï¼ˆMarker Interfaceï¼‰ã€‚ ä½†å®ç°è¯¥æ¥å£ä¸ä¿è¯è¯¥å¯¹è±¡ä¸€å®šå¯ä»¥åºåˆ—åŒ–ï¼Œå› ä¸ºåºåˆ—åŒ–å¿…é¡»ä¿è¯è¯¥å¯¹è±¡çš„æ‰€æœ‰å±æ€§å¯ä»¥åºåˆ—åŒ–ã€‚ å¹¶ä¸” static å’Œ transient ä¿®é¥°çš„å˜é‡ä¸ä¼šè¢«åºåˆ—åŒ–ï¼Œè¿™ä¹Ÿæ˜¯è§£å†³åºåˆ—åŒ–é—®é¢˜çš„æ–¹æ³•ä¹‹ä¸€ï¼Œè®©ä¸èƒ½åºåˆ—åŒ–çš„å¼•ç”¨ç”¨ static å’Œ transient æ¥ä¿®é¥°ã€‚ï¼ˆtransient ä¿®é¥°çš„å˜é‡ï¼Œæ˜¯ä¸ä¼šè¢«åºåˆ—åŒ–åˆ°æ–‡ä»¶ä¸­ï¼Œåœ¨è¢«ååºåˆ—åŒ–åï¼Œtransient å˜é‡çš„å€¼è¢«è®¾ä¸ºåˆå§‹å€¼ï¼Œå¦‚ int æ˜¯0ï¼Œå¯¹è±¡æ˜¯ nullï¼‰ æ­¤å¤–è¿˜å¯ä»¥å®ç° readObject() æ–¹æ³•å’Œ writeObject() æ–¹æ³•æ¥è‡ªå®šä¹‰å®ç°åºåˆ—åŒ–ã€‚ åºåˆ—åŒ–12345678910111213141516import java.io.*;import java.util.Arrays;public class Main { public static void main(String[] args) throws IOException { ByteArrayOutputStream buffer = new ByteArrayOutputStream(); try (ObjectOutputStream output = new ObjectOutputStream(buffer)) { // å†™å…¥int: output.writeInt(12345); // å†™å…¥String: output.writeUTF(&quot;Hello&quot;); // å†™å…¥Object: output.writeObject(Double.valueOf(123.456)); } System.out.println(Arrays.toString(buffer.toByteArray())); }} ååºåˆ—åŒ–12345try (ObjectInputStream input = new ObjectInputStream(...)) { int n = input.readInt(); String s = input.readUTF(); Double d = (Double) input.readObject();} ä¸ºäº†é¿å…å›  class å®šä¹‰å˜åŠ¨å¯¼è‡´çš„ååºåˆ—ä¸å…¼å®¹ï¼ŒæŠ›å‡º InvalidClassException ç±»ä¸åŒ¹é…å¼‚å¸¸ï¼ŒJava çš„åºåˆ—åŒ–å…è®¸ class å®šä¹‰ä¸€ä¸ªç‰¹æ®Šçš„ serialVersionUID é™æ€å˜é‡ï¼Œç”¨äºæ ‡è¯† Java ç±»çš„åºåˆ—åŒ–â€œç‰ˆæœ¬â€ï¼Œé€šå¸¸å¯ä»¥ç”± IDE è‡ªåŠ¨ç”Ÿæˆã€‚å¦‚æœå¢åŠ æˆ–ä¿®æ”¹äº†å­—æ®µï¼Œå¯ä»¥æ”¹å˜ serialVersionUID çš„å€¼ï¼Œè¿™æ ·å°±èƒ½è‡ªåŠ¨é˜»æ­¢ä¸åŒ¹é…çš„ class ç‰ˆæœ¬ï¼š 123public class Person implements Serializable { private static final long serialVersionUID = 2709425275741743919L;} Spark åºåˆ—åŒ–Spark æ˜¯åˆ†å¸ƒå¼æ‰§è¡Œå¼•æ“ï¼Œå…¶æ ¸å¿ƒæŠ½è±¡æ˜¯å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›† RDDï¼Œå…¶ä»£è¡¨äº†åˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹çš„æ•°æ®ã€‚Spark çš„è®¡ç®—æ˜¯åœ¨ executor ä¸Šåˆ†å¸ƒå¼æ‰§è¡Œçš„ï¼Œæ•…ç”¨æˆ·å¼€å‘çš„å¯¹äº RDD çš„ mapã€flatMapã€reduceByKey ç­‰ transformation æ“ä½œä¼šæœ‰å¦‚ä¸‹çš„æ‰§è¡Œè¿‡ç¨‹ï¼š ä»£ç ä¸­çš„å¯¹è±¡åœ¨ driver æœ¬åœ°åºåˆ—åŒ– å¯¹è±¡åºåˆ—åŒ–åä¼ è¾“åˆ°è¿œç¨‹ executor èŠ‚ç‚¹ è¿œç¨‹ executor èŠ‚ç‚¹ååºåˆ—åŒ–å¯¹è±¡ æœ€ç»ˆè¿œç¨‹èŠ‚ç‚¹æ‰§è¡Œè¿ç®— æ•…å¯¹è±¡åœ¨ transformation æ“ä½œä¸­éœ€è¦åºåˆ—åŒ–åé€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œç„¶ååœ¨ executor èŠ‚ç‚¹ååºåˆ—åŒ–æ‰§è¡Œè¿ç®—ï¼Œåˆ™è¦æ±‚å¯¹è±¡å¿…é¡»å¯åºåˆ—åŒ–ã€‚ å¦‚ä½•è§£å†³ Spark é¡¹ç›®ä¸­çš„åºåˆ—åŒ–é—®é¢˜Java å¯¹è±¡å¦‚æœ RDD ä¿å­˜çš„æ˜¯ Java å¯¹è±¡ï¼Œåˆ™è¦æ±‚ä½¿ç”¨ Java æœºåˆ¶ï¼Œå®ç°è¯¥å¯¹è±¡ class çš„åºåˆ—åŒ–ï¼Œå³ class å®ç° Serializable æ¥å£ã€‚å¯¹äºä¸å¯åºåˆ—åŒ–å¯¹è±¡ï¼Œå¦‚æœæœ¬èº«ä¸éœ€è¦å­˜å‚¨æˆ–ä¼ è¾“ï¼Œåˆ™å¯ä½¿ç”¨ static æˆ– trarnsient ä¿®é¥°ï¼›å¦‚æœéœ€è¦å­˜å‚¨ä¼ è¾“ï¼Œåˆ™å®ç° writeObject()/readObject() ä½¿ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–æ–¹æ³•ã€‚ Scala å¯¹è±¡å¯¹äº scala å¼€å‘ Spark ç¨‹åºï¼Œå¯ä»¥å®šä¹‰æ ·ä¾‹ç±»ï¼ˆcase classï¼‰æ¥åˆ›å»ºå¯¹è±¡ï¼Œå®ä¾‹åŒ–åçš„å¯¹è±¡ç›´æ¥å¯åºåˆ—åŒ–ã€‚ æ­¤å¤–è¿˜éœ€æ³¨æ„å“ªäº›æ“ä½œåœ¨ driverï¼Œå“ªäº›æ“ä½œåœ¨ executor æ‰§è¡Œï¼Œå› ä¸ºåœ¨driver ç«¯ï¼ˆforeachRDDï¼‰å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œå¾ˆå¯èƒ½ä¸èƒ½åœ¨ foreach ä¸­è¿è¡Œï¼Œå› ä¸ºå¯¹è±¡ä¸èƒ½ä» drive åºåˆ—åŒ–ä¼ é€’åˆ° executor ç«¯ï¼ˆæœ‰äº›å¯¹è±¡æœ‰ TCP é“¾æ¥ï¼Œä¸€å®šä¸å¯ä»¥åºåˆ—åŒ–ï¼‰ã€‚æ‰€ä»¥è¿™é‡Œä¸€èˆ¬åœ¨ foreachPartitions æˆ– foreach ç®—å­ä¸­æ¥å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿™æ ·å¯¹è±¡åœ¨ executor ç«¯å®ä¾‹åŒ–ï¼Œæ²¡æœ‰ä» driver ä¼ è¾“åˆ° executor çš„è¿‡ç¨‹ã€‚ å‚è€ƒé“¾æ¥ï¼šhttps://blog.csdn.net/weixin_38653290/article/details/84503295","link":"/blog/2022/09/20/Spark%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/"},{"title":"Unicode å­—ç¬¦ç¼–ç è¯¦è®²","text":"Unicode åˆç§°ä¸ºç»Ÿä¸€ç ã€ä¸‡å›½ç ã€å•ä¸€ç ï¼Œæ˜¯å›½é™…ç»„ç»‡åˆ¶å®šçš„æ—¨åœ¨å®¹çº³å…¨çƒæ‰€æœ‰å­—ç¬¦çš„ç¼–ç æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å­—ç¬¦é›†ã€ç¼–ç æ–¹æ¡ˆç­‰ï¼Œå®ƒä¸ºæ¯ç§è¯­è¨€ä¸­çš„æ¯ä¸ªå­—ç¬¦è®¾å®šäº†ç»Ÿä¸€ä¸”å”¯ä¸€çš„äºŒè¿›åˆ¶ç¼–ç ï¼Œä»¥æ»¡è¶³è·¨è¯­è¨€ã€è·¨å¹³å°çš„è¦æ±‚ã€‚ Unicodeçš„å®ç°æ–¹å¼ä¸åŒäºç¼–ç æ–¹å¼ã€‚ä¸€ä¸ªå­—ç¬¦çš„Unicodeç¼–ç ç¡®å®šã€‚ä½†æ˜¯åœ¨å®é™…ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œç”±äºä¸åŒç³»ç»Ÿå¹³å°çš„è®¾è®¡ä¸ä¸€å®šä¸€è‡´ï¼Œä»¥åŠå‡ºäºèŠ‚çœç©ºé—´çš„ç›®çš„ï¼Œå¯¹Unicodeç¼–ç çš„å®ç°æ–¹å¼æœ‰æ‰€ä¸åŒã€‚Unicodeçš„å®ç°æ–¹å¼ç§°ä¸ºUnicodeè½¬æ¢æ ¼å¼ï¼ˆUnicode Transformation Formatï¼Œç®€ç§°ä¸ºUTFï¼‰ã€‚ Unicode ä¸ UTF-X çš„å…³ç³»ï¼šUnicode æ˜¯å­—ç¬¦é›†ï¼ŒUTF-32/ UTF-16/ UTF-8 æ˜¯ä¸‰ç§å¸¸è§çš„å­—ç¬¦ç¼–ç æ–¹æ¡ˆã€‚ Unicode ç ç‚¹ ç ç‚¹ï¼ˆCode Pointï¼‰ç›¸å½“äº ASCII ç ä¸­çš„ ASCII å€¼ï¼Œå®ƒå°±æ˜¯ Unicode å­—ç¬¦é›†ä¸­å”¯ä¸€è¡¨ç¤ºæŸä¸ªå­—ç¬¦çš„æ ‡è¯†ã€‚ ç å…ƒï¼ˆCode Unitï¼‰ä»£ç å•å…ƒæ˜¯æŒ‡è®²ä»¥å®é™… Unicode ç¼–ç æ–¹æ¡ˆå°†å­—ç¬¦å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ï¼Œæ‰€å ç”¨çš„ä»£ç å•å…ƒã€‚å¯¹äº UTF-8 æ¥è¯´ï¼Œä»£ç å•å…ƒæ˜¯ 8 ä½äºŒè¿›åˆ¶æ•°ï¼ŒUTF-16 åˆ™æ˜¯ 16 ä½äºŒè¿›åˆ¶æ•°ã€‚ ç ç‚¹çš„è¡¨ç¤ºå½¢å¼ç ç‚¹çš„è¡¨ç¤ºå½¢å¼ä¸º U+[XX]XXXXï¼ŒX ä»£è¡¨ä¸€ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œå¯ä»¥æœ‰ 4-6 ä½ï¼Œä¸è¶³ 4 ä½å‰è¡¥ 0ï¼Œè¡¥è¶³ 4 ä½ï¼Œè¶…è¿‡åˆ™æŒ‰å®é™…ä½æ•°ã€‚å…·ä½“èŒƒå›´æ˜¯ U+0000 ~ U+10FFFFã€‚ç†è®ºå¤§å°ä¸º 10FFFF + 1 = 0x110000ï¼Œå³ 17 * 2^16 = 17 * 65536ã€‚ å¹³é¢ä¸ºäº†æ›´å¥½åˆ†ç±»ç®¡ç†åºå¤§çš„ç ç‚¹æ•°ï¼ŒUnicode æŠŠæ¯ 65536 ä¸ªç ç‚¹ä½œä¸ºä¸€ä¸ªå¹³é¢ï¼Œæ€»å…± 17 ä¸ªå¹³é¢ï¼ˆPlaneï¼‰ã€‚ 17 ä¸ªå¹³é¢ä¸­çš„ç¬¬ä¸€ä¸ªå¹³é¢å³ï¼šBMPï¼ˆBasic Multilingual Plane åŸºæœ¬å¤šè¯­è¨€å¹³é¢ï¼‰ã€‚ä¹Ÿå« Plane 0ï¼Œå®ƒçš„ç ç‚¹èŒƒå›´æ˜¯ U+0000 ~ U+FFFFã€‚è¿™ä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„å¹³é¢ï¼Œæ—¥å¸¸ç”¨åˆ°çš„å­—ç¬¦ç»å¤§å¤šæ•°éƒ½è½åœ¨è¿™ä¸ªå¹³é¢å†…ã€‚UTF-16 åªéœ€è¦ç”¨ä¸¤å­—èŠ‚ç¼–ç æ­¤å¹³é¢å†…çš„å­—ç¬¦ã€‚æ²¡åŒ…æ‹¬è¿›æ¥çš„å­—ç¬¦ï¼Œæ”¾åœ¨åé¢çš„å¹³é¢ï¼Œç§°ä¸ºè¾…åŠ©å¹³é¢ã€‚ Unicode ç¼–ç ç ç‚¹ä»…ä»…æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ˜¯æŠŠå­—ç¬¦æ•°å­—åŒ–çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œä»…ä»…æ˜¯ä¸€ç§æŠ½è±¡çš„ç¼–ç ã€‚æ•´ä¸ªç¼–ç å¯åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹ã€‚é¦–å…ˆï¼Œå°†ç¨‹åºä¸­çš„å­—ç¬¦æ ¹æ®å­—ç¬¦é›†ä¸­çš„ç¼–å·æ•°å­—åŒ–ä¸ºæŸä¸ªç‰¹å®šçš„æ•°å€¼ï¼Œç„¶åæ ¹æ®ç¼–å·ä»¥ç‰¹å®šçš„æ–¹å¼å­˜å‚¨åˆ°è®¡ç®—æœºä¸­ã€‚ Unicode ç¼–ç çš„ä¸¤ä¸ªå±‚é¢ æŠ½è±¡ç¼–ç å±‚é¢æŠŠä¸€ä¸ªå­—ç¬¦ç¼–ç åˆ°ä¸€ä¸ªæ•°å­—ã€‚ä¸æ¶‰åŠæ¯ä¸ªæ•°å­—ç”¨å‡ ä¸ªå­—èŠ‚è¡¨ç¤ºï¼Œæ˜¯ç”¨å®šé•¿è¿˜æ˜¯å˜é•¿è¡¨ç¤ºç­‰å…·ä½“ç»†èŠ‚ã€‚ å…·ä½“ç¼–ç å±‚é¢ç ç‚¹åˆ°æœ€ç»ˆç¼–ç çš„è½¬æ¢å³ UTF ï¼ˆUnicode Transformation Formatï¼šUnicode è½¬æ¢æ ¼å¼ï¼‰ã€‚è¿™ä¸€å±‚æ˜¯è¦æŠŠæŠ½è±¡ç¼–ç å±‚é¢çš„æ•°å­—ï¼ˆç ç‚¹ï¼‰ç¼–ç æˆæœ€ç»ˆçš„å­˜å‚¨å½¢å¼ï¼ˆUTF-Xï¼‰ã€‚ç ç‚¹ï¼ˆcodeï¼‰è½¬æ¢æˆå„ç§ç¼–ç ï¼ˆencodeï¼‰ï¼Œæ¶‰åŠåˆ°ç¼–ç è¿‡ç¨‹ä¸­å®šé•¿ä¸å˜é•¿ä¸¤ç§å®ç°æ–¹å¼ï¼Œå®šé•¿çš„è¯å®šå‡ ä¸ªå­—èŠ‚ï¼›ç”¨å˜é•¿çš„è¯æœ‰å“ªå‡ ç§å­—èŠ‚é•¿åº¦ï¼Œç›¸äº’é—´å¦‚ä½•åŒºåˆ†ç­‰ç­‰ã€‚ UTF-32 å°±å±äºå®šé•¿ç¼–ç ï¼Œå³æ°¸è¿œç”¨ 4 å­—èŠ‚å­˜å‚¨ç ç‚¹ï¼Œè€Œ UTF-8ã€UTF-16 å°±å±äºå˜é•¿å­˜å‚¨ï¼ŒUTF-8 æ ¹æ®ä¸åŒçš„æƒ…å†µä½¿ç”¨ 1-4 å­—èŠ‚ï¼Œè€Œ UTF-16 ä½¿ç”¨ 2 æˆ– 4 å­—èŠ‚æ¥å­˜å‚¨ç ç‚¹ã€‚ æ³¨ï¼šåœ¨ç¬¬ä¸€å±‚ï¼ŒæŠ½è±¡ç¼–ç å±‚é¢ï¼Œå­—ç¬¦ä¸æ•°å­—å·²ç»å®ç°ä¸€ä¸€å¯¹åº”ï¼Œå¯¹æ•°å­—ç¼–ç å®è´¨å°±æ˜¯å¯¹å­—ç¬¦ç¼–ç ã€‚ BOMBOMï¼ˆByte Order Markï¼‰ï¼Œå³å­—èŠ‚é¡ºåºæ ‡è¯†ã€‚å®ƒç”¨æ¥æ ‡è¯†ä½¿ç”¨å“ªç§ç«¯æ³•ï¼Œå®ƒå¸¸è¢«ç”¨æ¥å½“åšæ ‡è¯†æ–‡ä»¶æ˜¯ä»¥ UTF-8ã€UTF-16 æˆ– UTF-32 ç¼–ç çš„æ ‡è®°ã€‚ åœ¨ Unicode ç¼–ç ä¸­æœ‰ä¸€ä¸ªå«åšé›¶å®½åº¦éæ¢è¡Œç©ºæ ¼çš„å­—ç¬¦ ( ZERO WIDTH NO-BREAK SPACE ), ç”¨å­—ç¬¦ FEFF æ¥è¡¨ç¤ºã€‚ å¯¹äº UTF-16 ï¼Œå¦‚æœæ¥æ”¶åˆ°ä»¥ FEFF å¼€å¤´çš„å­—èŠ‚æµï¼Œ å°±è¡¨æ˜æ˜¯å¤§ç«¯å­—èŠ‚åºï¼Œå¦‚æœæ¥æ”¶åˆ° FFFEï¼Œ å°±è¡¨æ˜å­—èŠ‚æµ æ˜¯å°ç«¯å­—èŠ‚åº UTF-8 æ²¡æœ‰å­—èŠ‚åºé—®é¢˜ï¼Œä¸Šè¿°å­—ç¬¦åªæ˜¯ç”¨æ¥æ ‡è¯†å®ƒæ˜¯ UTF-8 æ–‡ä»¶ï¼Œè€Œä¸æ˜¯ç”¨æ¥è¯´æ˜å­—èŠ‚é¡ºåºçš„ã€‚â€é›¶å®½åº¦éæ¢è¡Œç©ºæ ¼â€ å­—ç¬¦ çš„ UTF-8 ç¼–ç æ˜¯ EF BB BF, æ‰€ä»¥å¦‚æœæ¥æ”¶åˆ°ä»¥ EF BB BF å¼€å¤´çš„å­—èŠ‚æµï¼Œå°±çŸ¥é“è¿™æ˜¯UTF-8 æ–‡ä»¶ã€‚ ä¸‹é¢çš„è¡¨æ ¼åˆ—å‡ºäº†ä¸åŒ UTF æ ¼å¼çš„å›ºå®šæ–‡ä»¶å¤´ï¼š UTF ç¼–ç  å›ºå®šæ–‡ä»¶å¤´ UTF-8 EF BB BF UTF-16LE FF FE UTF-16BE FE FF UTF-32LE FF FE 00 00 UTF-32BE 00 00 FE FF Java è·å–å­—ç¬¦ä¸²é•¿åº¦123456789101112131415String s1 = &quot;Hello&quot;;String s2 = &quot;ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚&quot;;// è·å–å­—ç¬¦ä¸²é•¿åº¦ï¼ˆç­‰äºæ¯ä¸ªå­—ç¬¦çš„ Unicode ç å…ƒä¸ªæ•°ä¹‹å’Œï¼‰int length1 = s1.length();int length2 = s2.length();// è·å–ç²¾å‡†çš„å­—ç¬¦ä¸²é•¿åº¦ï¼ˆç­‰äºæ¯ä¸ªå­—ç¬¦çš„ Unicode ç ç‚¹ä¸ªæ•°ä¹‹å’Œï¼‰int exactLength1 = s1.codePointCount(0, s1.length());int exactLength2 = s2.codePointCount(0, s2.length());// è¾“å‡ºæ‰“å°System.out.println(&quot;s1: &quot; + s1);System.out.println(&quot;s2: &quot; + s2);System.out.println(&quot;length1: &quot; + length1);System.out.println(&quot;length2: &quot; + length2);System.out.println(&quot;exact length1: &quot; + exactLength1);System.out.println(&quot;exact length2: &quot; + exactLength2); è¾“å‡ºå¦‚ä¸‹ï¼š 123456s1: Hellos2: ğŸ˜‚ğŸ˜‚ğŸ˜‚ğŸ˜‚length1: 5length2: 8exact length1: 5exact length2: 4 Java é»˜è®¤ä½¿ç”¨ UTF-8 å¯¹å­—ç¬¦è¿›è¡Œç¼–ç ã€‚å½“å­—ç¬¦ä¸²ä¸­åŒ…å«ä¸­æ–‡æˆ–ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œç”¨ String.length() æ–¹æ³•å¯èƒ½æ— æ³•ç²¾ç¡®è·å¾—å­—ç¬¦ä¸²çš„ä¸ªæ•°ï¼Œå› ä¸ºè¯¥æ–¹æ³•å®é™…è¿”å›çš„æ˜¯æ¯ä¸ªå­—ç¬¦çš„ Unicode ç å…ƒä¸ªæ•°ä¹‹å’Œï¼ˆUTF-8 çš„ç å…ƒä¸ºä¸€ä¸ª 8 ä½äºŒè¿›åˆ¶æ•°ï¼‰ï¼Œè€Œä¸­æ–‡æˆ–ç‰¹æ®Šå­—ç¬¦å¾€å¾€å ç”¨ä¸æ­¢ä¸€ä¸ªç å…ƒï¼ˆCode Unitï¼‰ï¼Œæ‰€ä»¥è·å¾—çš„æ•°å€¼å›å¤§äºå®é™…å­—ç¬¦ä¸²é•¿åº¦ã€‚ä½¿ç”¨ String.codePointCount(int beginIndex, int endIndex) æ–¹æ³•åˆ™å¯ä»¥è·å–ç²¾å‡†çš„å­—ç¬¦ä¸²é•¿åº¦ï¼Œå› ä¸ºè¯¥æ–¹æ³•è¿”å›æŒ‡å®šèŒƒå›´å†…æ¯ä¸ªå­—ç¬¦çš„ Unicode ç ç‚¹ä¸ªæ•°ä¹‹å’Œï¼Œè€Œä¸€ä¸ª Unicode ç ç‚¹åˆ™å¯¹åº”ä¸€ä¸ªå®é™…å­—ç¬¦ã€‚","link":"/blog/2022/11/14/Unicode%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E8%AF%A6%E8%AE%B2/"},{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/blog/2022/09/02/hello-world/"},{"title":"Windows ä¸‹æ­å»º Spark","text":"ç‰ˆæœ¬é€‰æ‹©Spark éƒ¨ç½²æ¨¡å¼åˆ†ä¸ºæœ¬åœ°å•æœºï¼ˆlocalï¼‰å’Œé›†ç¾¤æ¨¡å¼ï¼Œæœ¬åœ°å•æœºæ¨¡å¼å¸¸ç”¨äºæœ¬åœ°å¼€å‘ç¨‹åºä¸è°ƒè¯•ã€‚é›†ç¾¤æ¨¡å¼åˆåˆ†ä¸º Standalone æ¨¡å¼ã€Yarn æ¨¡å¼ã€Mesos æ¨¡å¼é€šè¿‡æµ‹è¯•å‘ç°ï¼Œä»¥ä¸‹ç‰ˆæœ¬ç»„åˆæŠ¥é”™ä¿¡æ¯æœ€å°‘ ç»„ä»¶ ç‰ˆæœ¬ Spark 3.2.2 Hadoop 3.3.1 Scala 2.12.15 JDK 1.8 Spark ä¾èµ–åº“Spark 3.2.2 çš„ä¾èµ–åº“ç‰ˆæœ¬å¦‚ä¸‹ï¼š ä¾èµ–åº“ ç‰ˆæœ¬ Scala 2.12.15 Hadoop 3.3.1 å®‰è£…æ­¥éª¤ ä¸‹è½½å®‰è£… JDKï¼Œé…ç½® JAVA_HOME ç¯å¢ƒå˜é‡ï¼Œå°† JAVA_HOME/bin æ·»åŠ è‡³ Path ç¯å¢ƒå˜é‡ä¸­ã€‚ ä¸‹è½½å®‰è£… Scalaï¼Œæ ¹æ®å…·ä½“çš„æ“ä½œç³»ç»Ÿï¼ŒæŒ‰ç…§å®˜ç½‘æ¨èçš„æ–¹å¼å®‰è£…ï¼Œæ— éœ€é…ç½® SCALA_HOME ç¯å¢ƒå˜é‡ã€‚ ä¸‹è½½å®‰è£… Hadoopï¼Œé…ç½® HADOOP_HOME ç¯å¢ƒå˜é‡ï¼Œå°† HADOOP_HOME/bin æ·»åŠ è‡³ Path ç¯å¢ƒå˜é‡ä¸­ã€‚è‹¥åœ¨ Windows ä¸Šæ­å»ºï¼Œåˆ™è¿˜éœ€è¦æ ¹æ®å…·ä½“çš„ Hadoop ç‰ˆæœ¬ä¸‹è½½å¯¹åº”çš„ winutils.exe å’Œ hadoop.dll æ–‡ä»¶ï¼Œæ”¾å…¥ HADOOP_HOME/bin è·¯å¾„ä¸‹ï¼Œä»¥è·å¾—åœ¨ Windows ä¸Šè¿è¡Œ Spark çš„æ”¯æŒï¼Œé¿å…ä»¥ä¸‹æŠ¥é”™ä¿¡æ¯ï¼š1Exception in thread â€œmainâ€ java.lang.UnsatisfiedLinkError: org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Ljava/lang/String;I)Z ä¸‹è½½å®‰è£… Sparkï¼Œé…ç½® SPARK_HOME ç¯å¢ƒå˜é‡ï¼Œå°† SPARK_HOME/bin æ·»åŠ è‡³ Path ç¯å¢ƒå˜é‡ä¸­ã€‚è¿›å…¥ Spark ç›®å½•ä¸‹çš„ conf å­ç›®å½•ä¸‹ï¼Œæ ¹æ®éœ€è¦ä¿®æ”¹ log4j.properties ç­‰é…ç½®æ–‡ä»¶ã€‚log4j.properties å¸¸è§çš„é…ç½®å¦‚ä¸‹ï¼š12345# åœ¨ç»ˆç«¯è¾“å‡º WARN çº§åˆ«çš„æ—¥å¿—ï¼Œé¿å…è¾“å‡ºè¿‡å¤šæ—¥å¿—ï¼Œå½±å“æŸ¥çœ‹log4j.rootCategory=WARN, console# é¿å… ERROR ShutdownHookManager: Exception while deleting Spark temp dir æŠ¥é”™log4j.logger.org.apache.spark.util.ShutdownHookManager=OFFlog4j.logger.org.apache.spark.SparkEnv=ERROR å®‰è£… PySparkå¦‚æœä¸Šè¿°å®‰è£…æ­¥éª¤éƒ½å·²å®Œæˆï¼Œå°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Java æˆ– Scala å¼€å‘ Spark ç¨‹åºäº†ã€‚å¯¹äº Python ç”¨æˆ·ï¼ŒSpark ä¹Ÿæä¾›äº†è¯­è¨€æ”¯æŒï¼Œåªéœ€è¦åœ¨ Spark å®‰è£…é…ç½®å®Œæˆåï¼Œç»§ç»­å®‰è£… PySpark å°±å¯ä»¥ä½¿ç”¨ Python å¼€å‘ Spark ç¨‹åºäº†ï¼š ä½¿ç”¨ PyPI å®‰è£…1pip install pyspark=3.2.2 ä½¿ç”¨ Conda å®‰è£…1conda install -c conda-forge pyspark=3.2.2 æ³¨æ„ï¼š PySpark çš„ç‰ˆæœ¬éœ€è¦å’Œ Spark çš„ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œæƒ³è¦äº†è§£æ›´å¤šå®‰è£…è¯¦æƒ…å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ æŠ¥é”™è§£å†³ ç¼–ç é”™è¯¯1UnicodeDecodeError: 'gbk' codec can't decode byte 0x82 in position 120: illegal multibyte sequence é€šè¿‡æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡è§£å†³ï¼š1PYTHONIOENCODING=utf8 ä»»åŠ¡è¿è¡Œæ—¶æŠ¥é”™1org.apache.spark.SparkException: Python worker failed to connect back é€šè¿‡æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡è§£å†³ï¼š1PYSPARK_PYTHON=python","link":"/blog/2022/09/05/Windows%E4%B8%8B%E6%90%AD%E5%BB%BASpark/"},{"title":"Hexo + Icarus + GitHub Pages æ­å»ºä¸ªäººåšå®¢","text":"å…ˆå†³æ¡ä»¶éœ€è¦å…ˆå®‰è£…ä»¥ä¸‹ç¨‹åºï¼š Node.js (Node.js ç‰ˆæœ¬éœ€ä¸ä½äº 10.13ï¼Œå»ºè®®ä½¿ç”¨ Node.js 12.0 åŠä»¥ä¸Šç‰ˆæœ¬) Git Node.js ç‰ˆæœ¬é™åˆ¶å¼ºçƒˆå»ºè®®æ°¸è¿œå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Hexoï¼Œä»¥åŠæ¨èçš„ Node.js ç‰ˆæœ¬ã€‚ Hexo ç‰ˆæœ¬ æœ€ä½å…¼å®¹çš„ Node.js ç‰ˆæœ¬ 6.0+ 12.13.0 5.0+ 10.13.0 4.1 - 4.2 8.10 4.0 8.6 3.3 - 3.9 6.9 3.2 - 3.3 0.12 3.0 - 3.1 0.10 or iojs 0.0.1 - 2.8 0.10 å®‰è£… Hexoä½¿ç”¨ npm å…¨å±€å®‰è£… Hexoã€‚ 1npm install -g hexo-cli å®‰è£… icarus æŒ‡å®šè·¯å¾„åˆå§‹åŒ–åšå®¢ç›®å½•ï¼Œå¹¶åˆ‡æ¢è‡³è¯¥è·¯å¾„ä¸‹ï¼Œä»¥blogè·¯å¾„ä¸ºä¾‹12hexo init blogcd blog ä½¿ç”¨ npm å®‰è£… Hexo1npm install hexo-theme-icarus é…ç½® Hexo ä¸»é¢˜1hexo config theme icarus åˆ›å»º GitHub ä»“åº“ åˆ›å»º GitHub ä»“åº“ï¼Œå¹¶å¼€å¯ Environmentsï¼Œé…ç½® url é…ç½® sshï¼Œç¡®ä¿å¯ä»¥ ssh è¿œç¨‹è®¿é—® GitHubï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•è¿æ¥æ˜¯å¦æˆåŠŸï¼š1ssh -T git@github.com å¦‚æœå‡ºè¡Œä»¥ä¸‹ä¿¡æ¯ï¼Œåˆ™è¯´æ˜è¿æ¥æˆåŠŸï¼š1Hi imaginefish! You've successfully authenticated, but GitHub does not provide bash access. ä¿®æ”¹é…ç½®Hexo é…ç½®Hexo çš„é…ç½®æ–‡ä»¶åœ¨ blog ç›®å½•ä¸‹ï¼Œåä¸º _config.yml ä¿®æ”¹è¯­è¨€ä¸ºä¸­æ–‡ç®€ä½“1language: zh-CN ä¿®æ”¹æ—¶åŒº1timezone: 'Asia/Shanghai' ä¿®æ”¹åšå®¢ç½‘å€ï¼Œå¦‚æœä¸é…ç½®ä¼šå‡ºç°æ–‡ä»¶è·¯å¾„å¼•ç”¨é”™è¯¯é—®é¢˜ï¼Œå¯¼è‡´ jsã€cssã€å›¾ç‰‡æ— æ³•åŠ è½½1url: https://imaginefish.github.io/blog ä¿®æ”¹ hexo éƒ¨ç½²æ–¹å¼ï¼Œæ¨é€è‡³ Github ä»“åº“çš„ gh-pages åˆ†æ”¯ï¼Œå®ç°åšå®¢éƒ¨ç½²1234deploy: type: git repository: git@github.com:imaginefish/blog.git branch: gh-pages Icarus é…ç½®Icarus çš„é…ç½®æ–‡ä»¶åœ¨ blog ç›®å½•ä¸‹ï¼Œåä¸º _config.icarus.yml è¯¥ä¸»é¢˜å¯¼èˆªæ æ— æ³•è·Ÿéš Hexo è¯­è¨€æœ¬åœ°åŒ–ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹é…ç½®æ–‡ä»¶123456menu: ä¸»é¡µ: / å½’æ¡£: /archives åˆ†ç±»: /categories æ ‡ç­¾: /tags å…³äº: /about è®¾ç½®åšä¸»é‚®ç®±é“¾æ¥123Email: icon: fas fa-envelope url: mailto:imaginefishes@outlook.com ä¿®æ”¹ sidebar é…ç½®ï¼Œä½¿ toc éšæ–‡ç« ä¸‹æ‹‰æ»šåŠ¨123sidebar: left: sticky: true ç”¨æˆ·è®¿é—®é‡ç»Ÿè®¡1busuanzi: true å¸ƒå±€é…ç½®æ–‡ä»¶å¸ƒå±€é…ç½®æ–‡ä»¶éµå¾ªç€ä¸ä¸»é¢˜é…ç½®æ–‡ä»¶ç›¸åŒçš„æ ¼å¼å’Œå®šä¹‰ã€‚ _config.post.yml ä¸­çš„é…ç½®å¯¹æ‰€æœ‰æ–‡ç« ç”Ÿæ•ˆï¼Œè€Œ _config.page.yml ä¸­çš„é…ç½®å¯¹æ‰€æœ‰è‡ªå®šä¹‰é¡µé¢ç”Ÿæ•ˆã€‚ è¿™ä¸¤ä¸ªæ–‡ä»¶å°†è¦†ç›–ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥åœ¨ _config.post.yml ä¸­æŠŠæ‰€æœ‰æ–‡ç« å˜ä¸ºä¸¤æ å¸ƒå±€ï¼š12345678910111213141516171819widgets: - type: toc position: left index: true collapsed: true depth: 3 - type: recent_posts position: left - type: categories position: left - type: tags position: left order_by: name amount: show_count: true åœ¨ _config.icarus.yml ä¸­æŠŠå…¶ä»–é¡µé¢ä»ä¿æŒä¸‰æ å¸ƒå±€ï¼š123456789101112131415- position: right type: recent_posts- position: right type: categories- position: left type: archives- position: right type: tags order_by: name amount: show_count: true ä»¥ä¸‹ç»™å‡ºä¸ªäººçš„å®Œæ•´ _config.icarus.yml é…ç½®ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143version: 5.1.0variant: defaultlogo: /img/logo.svghead: favicon: /img/favicon.svg manifest: name: short_name: start_url: theme_color: background_color: display: standalone icons: - src: '' sizes: '' type: structured_data: title: æ¢¦é±¼ä¹¡ description: ä¸ªäººåšå®¢ url: https://github.com/imaginefish/blog author: æ¢¦é±¼ publisher: publisher_logo: image: meta: - '' rss: /atom.xmlnavbar: menu: ä¸»é¡µ: / å½’æ¡£: /archives åˆ†ç±»: /categories æ ‡ç­¾: /tags å…³äº: /about links: GitHub: icon: fab fa-github url: https://github.com/imaginefish/blogfooter: links: Creative Commons: icon: fab fa-creative-commons url: https://creativecommons.org/ Attribution 4.0 International: icon: fab fa-creative-commons-by url: https://creativecommons.org/licenses/by/4.0/ Download on GitHub: icon: fab fa-github url: https://github.com/ppoffice/hexo-theme-icarusarticle: highlight: theme: atom-one-light clipboard: true fold: unfolded readtime: true update_time: true licenses: Creative Commons: icon: fab fa-creative-commons url: https://creativecommons.org/ Attribution: icon: fab fa-creative-commons-by url: https://creativecommons.org/licenses/by/4.0/ Noncommercial: icon: fab fa-creative-commons-nc url: https://creativecommons.org/licenses/by-nc/4.0/search: type: insight index_pages: truesidebar: left: sticky: true right: sticky: falsewidgets: - position: left type: profile author: æ¢¦é±¼ author_title: å¤§æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ location: ä¸­å›½.ä¸Šæµ· avatar: /img/avatar.jpg avatar_rounded: true gravatar: follow_link: https://github.com/imaginefishes social_links: Github: icon: fab fa-github url: https://github.com/imaginefishes Email: icon: fas fa-envelope url: mailto:imaginefishes@outlook.com RSS: icon: fas fa-rss url: /atom.xml - position: left type: toc index: true collapsed: true depth: 3 - position: left type: links links: Hexo: https://hexo.io Icarus: https://ppoffice.github.io/hexo-theme-icarus - position: right type: recent_posts - position: right type: categories - position: left type: archives - position: right type: tags order_by: name amount: show_count: trueplugins: animejs: true back_to_top: true busuanzi: true cookie_consent: type: info theme: edgeless static: false position: bottom-left policyLink: https://www.cookiesandyou.com/ gallery: true katex: true mathjax: true outdated_browser: false progressbar: trueproviders: cdn: jsdelivr fontcdn: google iconcdn: fontawesome å…¶ä»–é—®é¢˜ æ–‡ç« å›¾ç‰‡çš„å¼•ç”¨è·¯å¾„è‹¥è¦æ’å…¥æœ¬åœ°å›¾ç‰‡ï¼Œåœ¨åšå®¢æ ¹ç›®å½•ä¸‹æ‰¾åˆ° source æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸‹åˆ›å»º img å­ç›®å½•ï¼Œå°†å›¾ç‰‡æ”¾ç½®äºæ­¤ï¼Œé€šè¿‡ /img/xxx.jpg è·¯å¾„å¼•å…¥ã€‚ æ–‡ç« å›¾ç‰‡å¦‚ä½•å±…ä¸­æ˜¾ç¤ºè¯¥è§£å†³æ–¹æ¡ˆæ¥æºäº GitHub Issuesã€‚æ‰¾åˆ°ä¸»é¢˜çš„å®‰è£…è·¯å¾„ï¼Œæ‰¾åˆ° article.styl æ–‡ä»¶ï¼Œæˆ‘çš„è·¯å¾„ä¸º node_modules\\hexo-theme-icarus\\include\\style\\article.stylï¼Œæ‰¾åˆ°å¦‚ä¸‹ä½ç½®ï¼š1234567891011121314&amp;.article .article-meta, .article-tags color: $text-light .article-meta overflow-x: auto margin-bottom: .5rem .article-more @extend .button.is-light .content word-wrap: break-word font-size: $article-font-size å°† article éƒ¨åˆ†æ ·å¼æ·»åŠ å¦‚ä¸‹å››è¡Œä»£ç ï¼š12345678910111213141516171819&amp;.article .article-meta, .article-tags color: $text-light .article-meta overflow-x: auto margin-bottom: .5rem .article-more @extend .button.is-light .content word-wrap: break-word font-size: $article-font-size a img margin: auto display: block","link":"/blog/2022/09/02/hexo-icarus-github-pages-%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"},{"title":"æœ¬åœ°ä»“åº“æ¨é€åˆ° GitHub ä»“åº“ main åˆ†æ”¯","text":"GitHub ç›®å‰å·²ç»å°†ç”¨æˆ·åˆ›å»ºçš„ç‰ˆæœ¬åº“çš„é»˜è®¤åˆ†æ”¯ä» master æ›´æ”¹ä¸ºäº† mainï¼Œè¯¦æƒ…è§GitHub Change Blogã€‚è€Œ Git é»˜è®¤åˆ›å»ºçš„è¿˜æ˜¯ master åˆ†æ”¯ï¼Œæ‰€ä»¥åœ¨æœ¬åœ°ä»“åº“åŒæ­¥åˆ° GitHub æ—¶ï¼Œä¼šå‡ºç° error: failed to push some refs to 'github.com:imaginefish/blog.git' æŠ¥é”™ï¼Œéœ€è¦åˆ‡æ¢è‡³ main åˆ†åŒºåå†è¿›è¡Œæ“ä½œã€‚ åˆå§‹åŒ–ç‰ˆæœ¬åº“1git init æ·»åŠ è¿œç¨‹ä»“åº“1git remote add origin git@github.com:imaginefish/blog.git æ‹‰å– GitHub ä»“åº“åˆ°æœ¬åœ°åŒæ­¥1git pull --rebase origin main åˆ‡æ¢æœ¬åœ°åˆ†æ”¯ä» master åˆ° main1git checkout main æ·»åŠ æ‰€æœ‰ä¿®æ”¹åˆ°æš‚å­˜åŒº1git add . æäº¤ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“1git commit -m 'some messages' æ¨é€åˆ° GitHub çš„ main åˆ†æ”¯1git push origin main","link":"/blog/2022/09/05/%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E6%8E%A8%E9%80%81%E5%88%B0GitHub%E4%BB%93%E5%BA%93main%E5%88%86%E6%94%AF/"}],"tags":[{"name":"Hadoop","slug":"Hadoop","link":"/blog/tags/Hadoop/"},{"name":"HDFS","slug":"HDFS","link":"/blog/tags/HDFS/"},{"name":"Git","slug":"Git","link":"/blog/tags/Git/"},{"name":"Maven","slug":"Maven","link":"/blog/tags/Maven/"},{"name":"Java","slug":"Java","link":"/blog/tags/Java/"},{"name":"Visum","slug":"Visum","link":"/blog/tags/Visum/"},{"name":"äº¤é€šä»¿çœŸ","slug":"äº¤é€šä»¿çœŸ","link":"/blog/tags/%E4%BA%A4%E9%80%9A%E4%BB%BF%E7%9C%9F/"},{"name":"Python","slug":"Python","link":"/blog/tags/Python/"},{"name":"Pandas","slug":"Pandas","link":"/blog/tags/Pandas/"},{"name":"Spark","slug":"Spark","link":"/blog/tags/Spark/"},{"name":"åºåˆ—åŒ–","slug":"åºåˆ—åŒ–","link":"/blog/tags/%E5%BA%8F%E5%88%97%E5%8C%96/"},{"name":"Unicode","slug":"Unicode","link":"/blog/tags/Unicode/"},{"name":"Hexo","slug":"Hexo","link":"/blog/tags/Hexo/"},{"name":"Icarus","slug":"Icarus","link":"/blog/tags/Icarus/"},{"name":"GitHub","slug":"GitHub","link":"/blog/tags/GitHub/"}],"categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","link":"/blog/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"},{"name":"ç‰ˆæœ¬æ§åˆ¶","slug":"ç‰ˆæœ¬æ§åˆ¶","link":"/blog/categories/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/"},{"name":"é¡¹ç›®æ„å»ºä¸ç®¡ç†","slug":"é¡¹ç›®æ„å»ºä¸ç®¡ç†","link":"/blog/categories/%E9%A1%B9%E7%9B%AE%E6%9E%84%E5%BB%BA%E4%B8%8E%E7%AE%A1%E7%90%86/"},{"name":"äº¤é€šè§„åˆ’","slug":"äº¤é€šè§„åˆ’","link":"/blog/categories/%E4%BA%A4%E9%80%9A%E8%A7%84%E5%88%92/"},{"name":"Python æ•°æ®å¤„ç†","slug":"Python-æ•°æ®å¤„ç†","link":"/blog/categories/Python-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/"},{"name":"å­—ç¬¦ç¼–ç ","slug":"å­—ç¬¦ç¼–ç ","link":"/blog/categories/%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81/"},{"name":"ä¸ªäººåšå®¢","slug":"ä¸ªäººåšå®¢","link":"/blog/categories/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"}],"pages":[{"title":"å…³äºæˆ‘","text":"å¾…æ›´æ–°â€¦","link":"/blog/about/index.html"}]}